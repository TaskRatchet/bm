(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Ye,P,En,$e,Sr,Pn,ut={},On=[],lo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ce(t,e){for(var r in e)t[r]=e[r];return t}function Dn(t){var e=t.parentNode;e&&e.removeChild(t)}function I(t,e,r){var n,i,o,s={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Ye.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return je(t,s,n,i,null)}function je(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++En};return i==null&&P.vnode!=null&&P.vnode(o),o}function xn(){return{current:null}}function Y(t){return t.children}function ee(t,e){this.props=t,this.context=e}function Ke(t,e){if(e==null)return t.__?Ke(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ke(t):null}function Mn(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Mn(t)}}function Nt(t){(!t.__d&&(t.__d=!0)&&$e.push(t)&&!ct.__r++||Sr!==P.debounceRendering)&&((Sr=P.debounceRendering)||setTimeout)(ct)}function ct(){for(var t;ct.__r=$e.length;)t=$e.sort(function(e,r){return e.__v.__b-r.__v.__b}),$e=[],t.some(function(e){var r,n,i,o,s,l;e.__d&&(s=(o=(r=e).__v).__e,(l=r.__P)&&(n=[],(i=ce({},o)).__v=o.__v+1,Jt(l,o,i,r.__n,l.ownerSVGElement!==void 0,o.__h!=null?[s]:null,n,s??Ke(o),o.__h),Ln(n,o),o.__e!=s&&Mn(o)))})}function Fn(t,e,r,n,i,o,s,l,c,d){var a,m,u,h,_,b,y,S=n&&n.__k||On,O=S.length;for(r.__k=[],a=0;a<e.length;a++)if((h=r.__k[a]=(h=e[a])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?je(null,h,null,null,h):Array.isArray(h)?je(Y,{children:h},null,null,null):h.__b>0?je(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=r,h.__b=r.__b+1,(u=S[a])===null||u&&h.key==u.key&&h.type===u.type)S[a]=void 0;else for(m=0;m<O;m++){if((u=S[m])&&h.key==u.key&&h.type===u.type){S[m]=void 0;break}u=null}Jt(t,h,u=u||ut,i,o,s,l,c,d),_=h.__e,(m=h.ref)&&u.ref!=m&&(y||(y=[]),u.ref&&y.push(u.ref,null,h),y.push(m,h.__c||_,h)),_!=null?(b==null&&(b=_),typeof h.type=="function"&&h.__k===u.__k?h.__d=c=An(h,c,t):c=kn(t,h,u,S,_,c),typeof r.type=="function"&&(r.__d=c)):c&&u.__e==c&&c.parentNode!=t&&(c=Ke(u))}for(r.__e=b,a=O;a--;)S[a]!=null&&Tn(S[a],S[a]);if(y)for(a=0;a<y.length;a++)Un(y[a],y[++a],y[++a])}function An(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e=typeof n.type=="function"?An(n,e,r):kn(r,n,n,i,n.__e,e));return e}function de(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){de(r,e)}):e.push(t)),e}function kn(t,e,r,n,i,o){var s,l,c;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(l=o,c=0;(l=l.nextSibling)&&c<n.length;c+=1)if(l==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function uo(t,e,r,n,i){var o;for(o in r)o==="children"||o==="key"||o in e||dt(t,o,null,r[o],n);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||r[o]===e[o]||dt(t,o,e[o],r[o],n)}function Er(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||lo.test(e)?r:r+"px"}function dt(t,e,r,n,i){var o;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Er(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Er(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?Or:Pr,o):t.removeEventListener(e,o?Or:Pr,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Pr(t){this.l[t.type+!1](P.event?P.event(t):t)}function Or(t){this.l[t.type+!0](P.event?P.event(t):t)}function Jt(t,e,r,n,i,o,s,l,c){var d,a,m,u,h,_,b,y,S,O,R,C,$,k,q,D=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,l=e.__e=r.__e,e.__h=null,o=[l]),(d=P.__b)&&d(e);try{e:if(typeof D=="function"){if(y=e.props,S=(d=D.contextType)&&n[d.__c],O=d?S?S.props.value:d.__:n,r.__c?b=(a=e.__c=r.__c).__=a.__E:("prototype"in D&&D.prototype.render?e.__c=a=new D(y,O):(e.__c=a=new ee(y,O),a.constructor=D,a.render=ho),S&&S.sub(a),a.props=y,a.state||(a.state={}),a.context=O,a.__n=n,m=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),D.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=ce({},a.__s)),ce(a.__s,D.getDerivedStateFromProps(y,a.__s))),u=a.props,h=a.state,m)D.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(D.getDerivedStateFromProps==null&&y!==u&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(y,O),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(y,a.__s,O)===!1||e.__v===r.__v){for(a.props=y,a.state=a.__s,e.__v!==r.__v&&(a.__d=!1),a.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(Q){Q&&(Q.__=e)}),R=0;R<a._sb.length;R++)a.__h.push(a._sb[R]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(y,a.__s,O),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(u,h,_)})}if(a.context=O,a.props=y,a.__v=e,a.__P=t,C=P.__r,$=0,"prototype"in D&&D.prototype.render){for(a.state=a.__s,a.__d=!1,C&&C(e),d=a.render(a.props,a.state,a.context),k=0;k<a._sb.length;k++)a.__h.push(a._sb[k]);a._sb=[]}else do a.__d=!1,C&&C(e),d=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++$<25);a.state=a.__s,a.getChildContext!=null&&(n=ce(ce({},n),a.getChildContext())),m||a.getSnapshotBeforeUpdate==null||(_=a.getSnapshotBeforeUpdate(u,h)),q=d!=null&&d.type===Y&&d.key==null?d.props.children:d,Fn(t,Array.isArray(q)?q:[q],e,r,n,i,o,s,l,c),a.base=e.__e,e.__h=null,a.__h.length&&s.push(a),b&&(a.__E=a.__=null),a.__e=!1}else o==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=co(r.__e,e,r,n,i,o,s,c);(d=P.diffed)&&d(e)}catch(Q){e.__v=null,(c||o!=null)&&(e.__e=l,e.__h=!!c,o[o.indexOf(l)]=null),P.__e(Q,e,r)}}function Ln(t,e){P.__c&&P.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){P.__e(n,r.__v)}})}function co(t,e,r,n,i,o,s,l){var c,d,a,m=r.props,u=e.props,h=e.type,_=0;if(h==="svg"&&(i=!0),o!=null){for(;_<o.length;_++)if((c=o[_])&&"setAttribute"in c==!!h&&(h?c.localName===h:c.nodeType===3)){t=c,o[_]=null;break}}if(t==null){if(h===null)return document.createTextNode(u);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),o=null,l=!1}if(h===null)m===u||l&&t.data===u||(t.data=u);else{if(o=o&&Ye.call(t.childNodes),d=(m=r.props||ut).dangerouslySetInnerHTML,a=u.dangerouslySetInnerHTML,!l){if(o!=null)for(m={},_=0;_<t.attributes.length;_++)m[t.attributes[_].name]=t.attributes[_].value;(a||d)&&(a&&(d&&a.__html==d.__html||a.__html===t.innerHTML)||(t.innerHTML=a&&a.__html||""))}if(uo(t,u,m,i,l),a)e.__k=[];else if(_=e.props.children,Fn(t,Array.isArray(_)?_:[_],e,r,n,i&&h!=="foreignObject",o,s,o?o[0]:r.__k&&Ke(r,0),l),o!=null)for(_=o.length;_--;)o[_]!=null&&Dn(o[_]);l||("value"in u&&(_=u.value)!==void 0&&(_!==t.value||h==="progress"&&!_||h==="option"&&_!==m.value)&&dt(t,"value",_,m.value,!1),"checked"in u&&(_=u.checked)!==void 0&&_!==t.checked&&dt(t,"checked",_,m.checked,!1))}return t}function Un(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){P.__e(n,r)}}function Tn(t,e,r){var n,i;if(P.unmount&&P.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Un(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){P.__e(o,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Tn(n[i],e,r||typeof t.type!="function");r||t.__e==null||Dn(t.__e),t.__=t.__e=t.__d=void 0}function ho(t,e,r){return this.constructor(t,r)}function xe(t,e,r){var n,i,o;P.__&&P.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,o=[],Jt(e,t=(!n&&r||e).__k=I(Y,null,[t]),i||ut,ut,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Ye.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),Ln(o,t)}function In(t,e){xe(t,e,In)}function fo(t,e,r){var n,i,o,s=ce({},t.props);for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Ye.call(arguments,2):r),je(t.type,s,n||t.key,i||t.ref,null)}function te(t,e){var r={__c:e="__cC"+Pn++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(Nt)},this.sub=function(s){i.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),l&&l.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Ye=On.slice,P={__e:function(t,e,r,n){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(l){t=l}throw t}},En=0,ee.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ce({},this.state),typeof t=="function"&&(t=t(ce({},r),this.props)),t&&ce(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Nt(this))},ee.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Nt(this))},ee.prototype.render=Y,$e=[],ct.__r=0,Pn=0;class Ae{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(r=>r!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const We=typeof window>"u"||"Deno"in window;function Z(){}function po(t,e){return typeof t=="function"?t(e):t}function Qt(t){return typeof t=="number"&&t>=0&&t!==1/0}function qn(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ne(t,e,r){return Je(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function mo(t,e,r){return Je(t)?typeof e=="function"?{...r,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function ue(t,e,r){return Je(t)?[{...e,queryKey:t},r]:[t||{},e]}function Dr(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:l}=t;if(Je(s)){if(n){if(e.queryHash!==Xt(s,e.options))return!1}else if(!ht(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||o&&!o(e))}function xr(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:o}=t;if(Je(o)){if(!e.options.mutationKey)return!1;if(r){if(be(e.options.mutationKey)!==be(o))return!1}else if(!ht(e.options.mutationKey,o))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function Xt(t,e){return((e==null?void 0:e.queryKeyHashFn)||be)(t)}function be(t){return JSON.stringify(t,(e,r)=>jt(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ht(t,e){return Nn(t,e)}function Nn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Nn(t[r],e[r])):!1}function Qn(t,e){if(t===e)return t;const r=Mr(t)&&Mr(e);if(r||jt(t)&&jt(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),o=i.length,s=r?[]:{};let l=0;for(let c=0;c<o;c++){const d=r?c:i[c];s[d]=Qn(t[d],e[d]),s[d]===t[d]&&l++}return n===o&&l===n?t:s}return e}function $t(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Mr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jt(t){if(!Fr(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!Fr(r)||!r.hasOwnProperty("isPrototypeOf"))}function Fr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Je(t){return Array.isArray(t)}function $n(t){return new Promise(e=>{setTimeout(e,t)})}function Ar(t){$n(0).then(t)}function _o(){if(typeof AbortController=="function")return new AbortController}function Ht(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Qn(t,e):e}class yo extends Ae{constructor(){super(),this.setup=e=>{if(!We&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ft=new yo;class vo extends Ae{constructor(){super(),this.setup=e=>{if(!We&&window.addEventListener){const r=()=>e();return window.addEventListener("online",r,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const pt=new vo;function go(t){return Math.min(1e3*2**t,3e4)}function gt(t){return(t??"online")==="online"?pt.isOnline():!0}class jn{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function st(t){return t instanceof jn}function Hn(t){let e=!1,r=0,n=!1,i,o,s;const l=new Promise((y,S)=>{o=y,s=S}),c=y=>{n||(h(new jn(y)),t.abort==null||t.abort())},d=()=>{e=!0},a=()=>{e=!1},m=()=>!ft.isFocused()||t.networkMode!=="always"&&!pt.isOnline(),u=y=>{n||(n=!0,t.onSuccess==null||t.onSuccess(y),i==null||i(),o(y))},h=y=>{n||(n=!0,t.onError==null||t.onError(y),i==null||i(),s(y))},_=()=>new Promise(y=>{i=S=>{if(n||!m())return y(S)},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),b=()=>{if(n)return;let y;try{y=t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(u).catch(S=>{var O,R;if(n)return;const C=(O=t.retry)!=null?O:3,$=(R=t.retryDelay)!=null?R:go,k=typeof $=="function"?$(r,S):$,q=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,S);if(e||!q){h(S);return}r++,t.onFail==null||t.onFail(r,S),$n(k).then(()=>{if(m())return _()}).then(()=>{e?h(S):b()})})};return gt(t.networkMode)?b():_().then(b),{promise:l,cancel:c,continue:()=>{i==null||i()},cancelRetry:d,continueRetry:a}}const Zt=console;function bo(){let t=[],e=0,r=a=>{a()},n=a=>{a()};const i=a=>{let m;e++;try{m=a()}finally{e--,e||l()}return m},o=a=>{e?t.push(a):Ar(()=>{r(a)})},s=a=>(...m)=>{o(()=>{a(...m)})},l=()=>{const a=t;t=[],a.length&&Ar(()=>{n(()=>{a.forEach(m=>{r(m)})})})};return{batch:i,batchCalls:s,schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a}}}const j=bo();class Bn{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qt(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(We?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Ro extends Bn{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Zt,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||wo(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=Ht(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Z).catch(Z):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!qn(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(_=>_.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const s=_o(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};c(l);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn"),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(c(a),(n=this.options.behavior)==null||n.onFetch(a),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=a.fetchOptions)==null?void 0:i.meta)){var m;this.dispatch({type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta})}const u=h=>{if(st(h)&&h.silent||this.dispatch({type:"error",error:h}),!st(h)){var _,b;(_=(b=this.cache.config).onError)==null||_.call(b,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Hn({fn:a.fetchFn,abort:s==null?void 0:s.abort.bind(s),onSuccess:h=>{var _,b;if(typeof h>"u"){u(new Error("undefined"));return}this.setData(h),(_=(b=this.cache.config).onSuccess)==null||_.call(b,h,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(h,_)=>{this.dispatch({type:"failed",failureCount:h,error:_})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,o;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:gt(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=e.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return st(s)&&s.revert&&this.revertState?{...this.revertState}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),j.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function wo(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class Co extends Ae{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const o=r.queryKey,s=(i=r.queryHash)!=null?i:Xt(o,r);let l=this.get(s);return l||(l=new Ro({cache:this,logger:e.getLogger(),queryKey:o,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){j.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=ue(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Dr(n,i))}findAll(e,r){const[n]=ue(e,r);return Object.keys(n).length>0?this.queries.filter(i=>Dr(n,i)):this.queries}notify(e){j.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){j.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){j.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class So extends Bn{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Zt,this.observers=[],this.state=e.state||Kn(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var R;return this.retryer=Hn({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,$)=>{this.dispatch({type:"failed",failureCount:C,error:$})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,o,s,l,c;if(!r){var d,a,m,u;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(a=this.mutationCache.config).onMutate)==null?void 0:d.call(a,this.state.variables,this));const C=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const R=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,R,this.state.variables,this.state.context,this)),await((o=(s=this.options).onSuccess)==null?void 0:o.call(s,R,this.state.variables,this.state.context)),await((l=(c=this.options).onSettled)==null?void 0:l.call(c,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var h,_,b,y,S,O;throw await((h=(_=this.mutationCache.config).onError)==null?void 0:h.call(_,R,this.state.variables,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,R,this.state.variables,this.state.context)),await((S=(O=this.options).onSettled)==null?void 0:S.call(O,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gt(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),j.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Kn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Eo extends Ae{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new So({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){j.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>xr(e,r))}findAll(e){return this.mutations.filter(r=>xr(e,r))}notify(e){j.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.mutations.filter(r=>r.state.isPaused);return j.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(Z)),Promise.resolve()))}}function Po(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,o,s;const l=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,c=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,d=c==null?void 0:c.pageParam,a=(c==null?void 0:c.direction)==="forward",m=(c==null?void 0:c.direction)==="backward",u=((o=t.state.data)==null?void 0:o.pages)||[],h=((s=t.state.data)==null?void 0:s.pageParams)||[];let _=h,b=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var q;if((q=t.signal)!=null&&q.aborted)b=!0;else{var D;(D=t.signal)==null||D.addEventListener("abort",()=>{b=!0})}return t.signal}})},S=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),O=(k,q,D,Q)=>(_=Q?[q,..._]:[..._,q],Q?[D,...k]:[...k,D]),R=(k,q,D,Q)=>{if(b)return Promise.reject("Cancelled");if(typeof D>"u"&&!q&&k.length)return Promise.resolve(k);const J={queryKey:t.queryKey,pageParam:D,meta:t.options.meta};y(J);const X=S(J);return Promise.resolve(X).then(Ct=>O(k,D,Ct,Q))};let C;if(!u.length)C=R([]);else if(a){const k=typeof d<"u",q=k?d:kr(t.options,u);C=R(u,k,q)}else if(m){const k=typeof d<"u",q=k?d:Oo(t.options,u);C=R(u,k,q,!0)}else{_=[];const k=typeof t.options.getNextPageParam>"u";C=(l&&u[0]?l(u[0],0,u):!0)?R([],k,h[0]):Promise.resolve(O([],h[0],u[0]));for(let D=1;D<u.length;D++)C=C.then(Q=>{if(l&&u[D]?l(u[D],D,u):!0){const X=k?h[D]:kr(t.options,Q);return R(Q,k,X)}return Promise.resolve(O(Q,h[D],u[D]))})}return C.then(k=>({pages:k,pageParams:_}))}}}}function kr(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Oo(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Do{constructor(e={}){this.queryCache=e.queryCache||new Co,this.mutationCache=e.mutationCache||new Eo,this.logger=e.logger||Zt,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ft.subscribe(()=>{ft.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=pt.subscribe(()=>{pt.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=ue(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=Ne(e,r,n),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),o=i==null?void 0:i.state.data,s=po(r,o);if(typeof s>"u")return;const l=Ne(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(s,{...n,manual:!0})}setQueriesData(e,r,n){return j.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=ue(e,r),i=this.queryCache;j.batch(()=>{i.findAll(n).forEach(o=>{i.remove(o)})})}resetQueries(e,r,n){const[i,o]=ue(e,r,n),s=this.queryCache,l={type:"active",...i};return j.batch(()=>(s.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,o)))}cancelQueries(e,r,n){const[i,o={}]=ue(e,r,n);typeof o.revert>"u"&&(o.revert=!0);const s=j.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(o)));return Promise.all(s).then(Z).catch(Z)}invalidateQueries(e,r,n){const[i,o]=ue(e,r,n);return j.batch(()=>{var s,l;if(this.queryCache.findAll(i).forEach(d=>{d.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(s=(l=i.refetchType)!=null?l:i.type)!=null?s:"active"};return this.refetchQueries(c,o)})}refetchQueries(e,r,n){const[i,o]=ue(e,r,n),s=j.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var d;return c.fetch(void 0,{...o,cancelRefetch:(d=o==null?void 0:o.cancelRefetch)!=null?d:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(s).then(Z);return o!=null&&o.throwOnError||(l=l.catch(Z)),l}fetchQuery(e,r,n){const i=Ne(e,r,n),o=this.defaultQueryOptions(i);typeof o.retry>"u"&&(o.retry=!1);const s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(Z).catch(Z)}fetchInfiniteQuery(e,r,n){const i=Ne(e,r,n);return i.behavior=Po(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(Z).catch(Z)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>be(e)===be(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>ht(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>be(e)===be(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>ht(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Xt(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class xo extends Ae{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Lr(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Bt(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),$t(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const o=this.hasListeners();o&&Ur(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e);return this.createResult(r,e)}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Z)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),We||this.currentResult.isStale||!Qt(this.options.staleTime))return;const r=qn(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(We||this.options.enabled===!1||!Qt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ft.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,o=this.currentResult,s=this.currentResultState,l=this.currentResultOptions,c=e!==n,d=c?e.state:this.currentQueryInitialState,a=c?this.currentResult:this.previousQueryResult,{state:m}=e;let{dataUpdatedAt:u,error:h,errorUpdatedAt:_,fetchStatus:b,status:y}=m,S=!1,O=!1,R;if(r._optimisticResults){const D=this.hasListeners(),Q=!D&&Lr(e,r),J=D&&Ur(e,n,r,i);(Q||J)&&(b=gt(e.options.networkMode)?"fetching":"paused",u||(y="loading")),r._optimisticResults==="isRestoring"&&(b="idle")}if(r.keepPreviousData&&!m.dataUpdatedAt&&a!=null&&a.isSuccess&&y!=="error")R=a.data,u=a.dataUpdatedAt,y=a.status,S=!0;else if(r.select&&typeof m.data<"u")if(o&&m.data===(s==null?void 0:s.data)&&r.select===this.selectFn)R=this.selectResult;else try{this.selectFn=r.select,R=r.select(m.data),R=Ht(o==null?void 0:o.data,R,r),this.selectResult=R,this.selectError=null}catch(D){this.selectError=D}else R=m.data;if(typeof r.placeholderData<"u"&&typeof R>"u"&&y==="loading"){let D;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))D=o.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof D<"u")try{D=r.select(D),this.selectError=null}catch(Q){this.selectError=Q}typeof D<"u"&&(y="success",R=Ht(o==null?void 0:o.data,D,r),O=!0)}this.selectError&&(h=this.selectError,R=this.selectResult,_=Date.now(),y="error");const C=b==="fetching",$=y==="loading",k=y==="error";return{status:y,fetchStatus:b,isLoading:$,isSuccess:y==="success",isError:k,isInitialLoading:$&&C,data:R,dataUpdatedAt:u,error:h,errorUpdatedAt:_,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:C,isRefetching:C&&!$,isLoadingError:k&&m.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:O,isPreviousData:S,isRefetchError:k&&m.dataUpdatedAt!==0,isStale:er(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,$t(n,r))return;this.currentResult=n;const i={cache:!0},o=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const l=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(c=>{const d=c;return this.currentResult[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!st(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){j.batch(()=>{if(e.onSuccess){var r,n,i,o;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(o=this.options).onSettled)==null||i.call(o,this.currentResult.data,null)}else if(e.onError){var s,l,c,d;(s=(l=this.options).onError)==null||s.call(l,this.currentResult.error),(c=(d=this.options).onSettled)==null||c.call(d,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(a=>{a(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Mo(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Lr(t,e){return Mo(t,e)||t.state.dataUpdatedAt>0&&Bt(t,e,e.refetchOnMount)}function Bt(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&er(t,e)}return!1}function Ur(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&er(t,r)}function er(t,e){return t.isStaleByTime(e.staleTime)}let Fo=class extends Ae{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.client.defaultMutationOptions(e),$t(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Kn(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){j.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,o;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(o=this.mutateOptions).onSettled)==null||i.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var s,l,c,d;(s=(l=this.mutateOptions).onError)==null||s.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(d=this.mutateOptions).onSettled)==null||c.call(d,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(a=>{a(this.currentResult)})})}};function Ao(t){return{mutationKey:t.options.mutationKey,state:t.state}}function ko(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function Lo(t){return t.state.isPaused}function Uo(t){return t.state.status==="success"}function To(t,e={}){const r=[],n=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||Lo;t.getMutationCache().getAll().forEach(o=>{i(o)&&r.push(Ao(o))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||Uo;t.getQueryCache().getAll().forEach(o=>{i(o)&&n.push(ko(o))})}return{mutations:r,queries:n}}function Io(t,e,r){if(typeof e!="object"||e===null)return;const n=t.getMutationCache(),i=t.getQueryCache(),o=e.mutations||[],s=e.queries||[];o.forEach(l=>{var c;n.build(t,{...r==null||(c=r.defaultOptions)==null?void 0:c.mutations,mutationKey:l.mutationKey},l.state)}),s.forEach(l=>{var c;const d=i.get(l.queryHash);if(d){d.state.dataUpdatedAt<l.state.dataUpdatedAt&&d.setState(l.state);return}i.build(t,{...r==null||(c=r.defaultOptions)==null?void 0:c.queries,queryKey:l.queryKey,queryHash:l.queryHash},l.state)})}var ye,N,Ft,Tr,Me=0,Wn=[],at=[],Ir=P.__b,qr=P.__r,Nr=P.diffed,Qr=P.__c,$r=P.unmount;function Se(t,e){P.__h&&P.__h(N,t,Me||e),Me=0;var r=N.__H||(N.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:at}),r.__[t]}function se(t){return Me=1,tr(Yn,t)}function tr(t,e,r){var n=Se(ye++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Yn(void 0,e),function(o){var s=n.__N?n.__N[0]:n.__[0],l=n.t(s,o);s!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=N,!N.u)){N.u=!0;var i=N.shouldComponentUpdate;N.shouldComponentUpdate=function(o,s,l){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(a){return a.__c});if(c.every(function(a){return!a.__N}))return!i||i.call(this,o,s,l);var d=!1;return c.forEach(function(a){if(a.__N){var m=a.__[0];a.__=a.__N,a.__N=void 0,m!==a.__[0]&&(d=!0)}}),!(!d&&n.__c.props===o)&&(!i||i.call(this,o,s,l))}}return n.__N||n.__}function ie(t,e){var r=Se(ye++,3);!P.__s&&rr(r.__H,e)&&(r.__=t,r.i=e,N.__H.__h.push(r))}function Xe(t,e){var r=Se(ye++,4);!P.__s&&rr(r.__H,e)&&(r.__=t,r.i=e,N.__h.push(r))}function Ve(t){return Me=5,me(function(){return{current:t}},[])}function Vn(t,e,r){Me=6,Xe(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function me(t,e){var r=Se(ye++,7);return rr(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function _e(t,e){return Me=8,me(function(){return t},e)}function K(t){var e=N.context[t.__c],r=Se(ye++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(N)),e.props.value):t.__}function zn(t,e){P.useDebugValue&&P.useDebugValue(e?e(t):t)}function qo(t){var e=Se(ye++,10),r=se();return e.__=t,N.componentDidCatch||(N.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Gn(){var t=Se(ye++,11);if(!t.__){for(var e=N.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function No(){for(var t;t=Wn.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(lt),t.__H.__h.forEach(Kt),t.__H.__h=[]}catch(e){t.__H.__h=[],P.__e(e,t.__v)}}P.__b=function(t){N=null,Ir&&Ir(t)},P.__r=function(t){qr&&qr(t),ye=0;var e=(N=t.__c).__H;e&&(Ft===N?(e.__h=[],N.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=at,r.__N=r.i=void 0})):(e.__h.forEach(lt),e.__h.forEach(Kt),e.__h=[])),Ft=N},P.diffed=function(t){Nr&&Nr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Wn.push(e)!==1&&Tr===P.requestAnimationFrame||((Tr=P.requestAnimationFrame)||Qo)(No)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==at&&(r.__=r.__V),r.i=void 0,r.__V=at})),Ft=N=null},P.__c=function(t,e){e.some(function(r){try{r.__h.forEach(lt),r.__h=r.__h.filter(function(n){return!n.__||Kt(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],P.__e(n,r.__v)}}),Qr&&Qr(t,e)},P.unmount=function(t){$r&&$r(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{lt(n)}catch(i){e=i}}),r.__H=void 0,e&&P.__e(e,r.__v))};var jr=typeof requestAnimationFrame=="function";function Qo(t){var e,r=function(){clearTimeout(n),jr&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);jr&&(e=requestAnimationFrame(r))}function lt(t){var e=N,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),N=e}function Kt(t){var e=N;t.__c=t.__(),N=e}function rr(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Yn(t,e){return typeof e=="function"?e(t):e}function Jn(t,e){for(var r in e)t[r]=e[r];return t}function Wt(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function At(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function mt(t){this.props=t}function Xn(t,e){function r(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!s:Wt(this.props,i)}function n(i){return this.shouldComponentUpdate=r,I(t,i)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(mt.prototype=new ee).isPureReactComponent=!0,mt.prototype.shouldComponentUpdate=function(t,e){return Wt(this.props,t)||Wt(this.state,e)};var Hr=P.__b;P.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Hr&&Hr(t)};var $o=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Zn(t){function e(r){var n=Jn({},r);return delete n.ref,t(n,r.ref||null)}return e.$$typeof=$o,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Br=function(t,e){return t==null?null:de(de(t).map(e))},nr={map:Br,forEach:Br,count:function(t){return t?de(t).length:0},only:function(t){var e=de(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:de},jo=P.__e;P.__e=function(t,e,r,n){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}jo(t,e,r,n)};var Kr=P.unmount;function ei(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=Jn({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return ei(n,e,r)})),t}function ti(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return ti(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function He(){this.__u=0,this.t=null,this.__b=null}function ri(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ni(t){var e,r,n;function i(o){if(e||(e=t()).then(function(s){r=s.default||s},function(s){n=s}),n)throw n;if(!r)throw e;return I(r,o)}return i.displayName="Lazy",i.__f=!0,i}function Pe(){this.u=null,this.o=null}P.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Kr&&Kr(t)},(He.prototype=new ee).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var i=ri(n.__v),o=!1,s=function(){o||(o=!0,r.__R=null,i?i(l):l())};r.__R=s;var l=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=ti(d,d.__c.__P,d.__c.__O)}var a;for(n.setState({__a:n.__b=null});a=n.t.pop();)a.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},He.prototype.componentWillUnmount=function(){this.t=[]},He.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=ei(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&I(Y,null,t.fallback);return i&&(i.__h=null),[I(Y,null,e.__a?null:t.children),i]};var Wr=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function Ho(t){return this.getChildContext=function(){return t.context},t.children}function Bo(t){var e=this,r=t.i;e.componentWillUnmount=function(){xe(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),xe(I(Ho,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function ii(t,e){var r=I(Bo,{__v:t,i:e});return r.containerInfo=e,r}(Pe.prototype=new ee).__a=function(t){var e=this,r=ri(e.__v),n=e.o.get(t);return n[0]++,function(i){var o=function(){e.props.revealOrder?(n.push(i),Wr(e,t,n)):i()};r?r(o):o()}},Pe.prototype.render=function(t){this.u=null,this.o=new Map;var e=de(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},Pe.prototype.componentDidUpdate=Pe.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){Wr(t,r,e)})};var oi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ko=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Wo=typeof document<"u",Vo=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};function si(t,e,r){return e.__k==null&&(e.textContent=""),xe(t,e),typeof r=="function"&&r(),t?t.__c:null}function ai(t,e,r){return In(t,e),typeof r=="function"&&r(),t?t.__c:null}ee.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ee.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Vr=P.event;function zo(){}function Go(){return this.cancelBubble}function Yo(){return this.defaultPrevented}P.event=function(t){return Vr&&(t=Vr(t)),t.persist=zo,t.isPropagationStopped=Go,t.isDefaultPrevented=Yo,t.nativeEvent=t};var li,zr={configurable:!0,get:function(){return this.class}},Gr=P.vnode;P.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in n={},r){var s=r[o];Wo&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in r&&s==null||(o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Vo(r.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&Ko.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),n[o]&&(o="oninputCapture")),n[o]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=de(r.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=de(r.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),t.props=n,r.class!=r.className&&(zr.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",zr))}t.$$typeof=oi,Gr&&Gr(t)};var Yr=P.__r;P.__r=function(t){Yr&&Yr(t),li=t.__c};var ui={ReactCurrentDispatcher:{current:{readContext:function(t){return li.__n[t.__c].props.value}}}},Jo="17.0.2";function ci(t){return I.bind(null,t)}function bt(t){return!!t&&t.$$typeof===oi}function di(t){return bt(t)?fo.apply(null,arguments):t}function hi(t){return!!t.__k&&(xe(null,t),!0)}function fi(t){return t&&(t.base||t.nodeType===1&&t)||null}var pi=function(t,e){return t(e)},mi=function(t,e){return t(e)},_i=Y;function ir(t){t()}function yi(t){return t}function vi(){return[!1,ir]}var gi=Xe;function bi(t,e){var r=e(),n=se({h:{__:r,v:e}}),i=n[0].h,o=n[1];return Xe(function(){i.__=r,i.v=e,At(i.__,e())||o({h:i})},[t,r,e]),ie(function(){return At(i.__,i.v())||o({h:i}),t(function(){At(i.__,i.v())||o({h:i})})},[t]),r}var Xo={useState:se,useId:Gn,useReducer:tr,useEffect:ie,useLayoutEffect:Xe,useInsertionEffect:gi,useTransition:vi,useDeferredValue:yi,useSyncExternalStore:bi,startTransition:ir,useRef:Ve,useImperativeHandle:Vn,useMemo:me,useCallback:_e,useContext:K,useDebugValue:zn,version:"17.0.2",Children:nr,render:si,hydrate:ai,unmountComponentAtNode:hi,createPortal:ii,createElement:I,createContext:te,createFactory:ci,cloneElement:di,createRef:xn,Fragment:Y,isValidElement:bt,findDOMNode:fi,Component:ee,PureComponent:mt,memo:Xn,forwardRef:Zn,flushSync:mi,unstable_batchedUpdates:pi,StrictMode:_i,Suspense:He,SuspenseList:Pe,lazy:ni,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ui};const _t=Object.freeze(Object.defineProperty({__proto__:null,Children:nr,Component:ee,Fragment:Y,PureComponent:mt,StrictMode:_i,Suspense:He,SuspenseList:Pe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ui,cloneElement:di,createContext:te,createElement:I,createFactory:ci,createPortal:ii,createRef:xn,default:Xo,findDOMNode:fi,flushSync:mi,forwardRef:Zn,hydrate:ai,isValidElement:bt,lazy:ni,memo:Xn,render:si,startTransition:ir,unmountComponentAtNode:hi,unstable_batchedUpdates:pi,useCallback:_e,useContext:K,useDebugValue:zn,useDeferredValue:yi,useEffect:ie,useErrorBoundary:qo,useId:Gn,useImperativeHandle:Vn,useInsertionEffect:gi,useLayoutEffect:Xe,useMemo:me,useReducer:tr,useRef:Ve,useState:se,useSyncExternalStore:bi,useTransition:vi,version:Jo},Symbol.toStringTag,{value:"Module"}));function Zo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Vt={},es={get exports(){return Vt},set exports(t){Vt=t}},Ri={};const ts=Zo(_t);/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=ts;function rs(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:rs,is=Fe.useState,os=Fe.useEffect,ss=Fe.useLayoutEffect,as=Fe.useDebugValue;function ls(t,e){var r=e(),n=is({inst:{value:r,getSnapshot:e}}),i=n[0].inst,o=n[1];return ss(function(){i.value=r,i.getSnapshot=e,kt(i)&&o({inst:i})},[t,r,e]),os(function(){return kt(i)&&o({inst:i}),t(function(){kt(i)&&o({inst:i})})},[t]),as(r),r}function kt(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ns(t,r)}catch{return!0}}function us(t,e){return e()}var cs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?us:ls;Ri.useSyncExternalStore=Fe.useSyncExternalStore!==void 0?Fe.useSyncExternalStore:cs;(function(t){t.exports=Ri})(es);const or=Vt.useSyncExternalStore,Jr=te(void 0),wi=te(!1);function Ci(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Jr),window.ReactQueryClientContext):Jr)}const sr=({context:t}={})=>{const e=K(Ci(t,K(wi)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ds=({client:t,children:e,context:r,contextSharing:n=!1})=>{ie(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Ci(r,n);return I(wi.Provider,{value:!r&&n},I(i.Provider,{value:t},e))},Si=te(!1),hs=()=>K(Si);Si.Provider;function fs(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const ps=te(fs()),ms=()=>K(ps);function Ei(t,e){return typeof t=="function"?t(...e):!!t}const _s=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},ys=t=>{ie(()=>{t.clearReset()},[t])},vs=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&Ei(r,[t.error,n]),gs=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},bs=(t,e)=>t.isLoading&&t.isFetching&&!e,Rs=(t,e,r)=>(t==null?void 0:t.suspense)&&bs(e,r),ws=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function Cs(t,e){const r=sr({context:t.context}),n=hs(),i=ms(),o=r.defaultQueryOptions(t);o._optimisticResults=n?"isRestoring":"optimistic",o.onError&&(o.onError=j.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=j.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=j.batchCalls(o.onSettled)),gs(o),_s(o,i),ys(i);const[s]=se(()=>new e(r,o)),l=s.getOptimisticResult(o);if(or(_e(c=>n?()=>{}:s.subscribe(j.batchCalls(c)),[s,n]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),ie(()=>{s.setOptions(o,{listeners:!1})},[o,s]),Rs(o,l,n))throw ws(o,s,i);if(vs({result:l,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw l.error;return o.notifyOnChangeProps?l:s.trackResult(l)}function Ss(t,e,r){const n=Ne(t,e,r);return Cs(n,xo)}function Es(t,e,r){const[n,i={}]=ue(t,e,r),o=sr({context:i.context}),s=o.getQueryCache();return or(_e(l=>s.subscribe(j.batchCalls(l)),[s]),()=>o.isFetching(n),()=>o.isFetching(n))}function Xr(t,e,r){const n=mo(t,e,r),i=sr({context:n.context}),[o]=se(()=>new Fo(i,n));ie(()=>{o.setOptions(n)},[o,n]);const s=or(_e(c=>o.subscribe(j.batchCalls(c)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=_e((c,d)=>{o.mutate(c,d).catch(Ps)},[o]);if(s.error&&Ei(o.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}function Ps(){}function Pi(t){return t.sort((e,r)=>e.losedate<r.losedate?-1:1),{today:t.filter(e=>e.safebuf===0),next:t.filter(e=>e.safebuf!==0&&!e.todayta),later:t.filter(e=>e.safebuf!==0&&e.todayta)}}const Os=localStorage.getItem("username")||"",ar=localStorage.getItem("api_key")||"";function Ds(t,e){localStorage.setItem("username",t),localStorage.setItem("api_key",e),window.location.href="/"}function Oi(){localStorage.removeItem("username"),localStorage.removeItem("api_key"),window.location.href="/"}const xs="https://www.beeminder.com/api/v1";async function Ms(){return lr({route:"/users/me/goals.json"})}async function Fs(t){return lr({route:`/users/me/goals/${t}/refresh_graph.json`})}async function As(t,e){return lr({route:`/users/me/goals/${t}/datapoints.json`,method:"post",data:{value:e,comment:"via bm.taskratchet.com"}})}async function lr({route:t,method:e="get",data:r}){return(await fetch(`${xs}${t}?auth_token=${ar}`,{method:e,body:JSON.stringify(r)})).json()}function ks({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:r=1e3,serialize:n=JSON.stringify,deserialize:i=JSON.parse,retry:o}){if(typeof t<"u"){const s=l=>{try{t.setItem(e,n(l));return}catch(c){return c}};return{persistClient:Ls(l=>{let c=l,d=s(c),a=0;for(;d&&c;)a++,c=o==null?void 0:o({persistedClient:c,error:d,errorCount:a}),c&&(d=s(c))},r),restoreClient:()=>{const l=t.getItem(e);if(l)return i(l)},removeClient:()=>{t.removeItem(e)}}}return{persistClient:Zr,restoreClient:()=>{},removeClient:Zr}}function Ls(t,e=100){let r=null,n;return function(...i){n=i,r===null&&(r=setTimeout(()=>{t(...n),r=null},e))}}function Zr(){}async function Us({queryClient:t,persister:e,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:i}){try{const o=await e.restoreClient();if(o)if(o.timestamp){const s=Date.now()-o.timestamp>r,l=o.buster!==n;s||l?e.removeClient():Io(t,o.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function en({queryClient:t,persister:e,buster:r="",dehydrateOptions:n}){const i={buster:r,timestamp:Date.now(),clientState:To(t,n)};await e.persistClient(i)}function Ts(t){const e=t.queryClient.getQueryCache().subscribe(()=>{en(t)}),r=t.queryClient.getMutationCache().subscribe(()=>{en(t)});return()=>{e(),r()}}function Is(t){let e=!1,r;const n=()=>{e=!0,r==null||r()},i=Us(t).then(()=>{e||(r=Ts(t))});return[n,i]}const we=new Do({defaultOptions:{queries:{cacheTime:1e3*60*60*24}}}),qs=ks({storage:window.localStorage});Is({queryClient:we,persister:qs});var Ns=0;function g(t,e,r,n,i){var o,s,l={};for(s in e)s=="ref"?o=e[s]:l[s]=e[s];var c={type:t,props:l,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ns,__source:i,__self:n};if(typeof t=="function"&&(o=t.defaultProps))for(s in o)l[s]===void 0&&(l[s]=o[s]);return P.vnode&&P.vnode(c),c}async function tn(t,e){const r=we.getQueryData(["goals"]);if(!r)return;const n=r.findIndex(o=>o.slug===t);if(n===-1)return;r[n]={...r[n],queued:!0},we.setQueryData(["goals"],r);const i=await e();return we.invalidateQueries(["goals"]),i}function Di({g:t}){const{mutate:e,isLoading:r}=Xr(c=>tn(t.slug,()=>As(t.slug,c))),{mutate:n,isLoading:i}=Xr(()=>tn(t.slug,()=>Fs(t.slug))),o=r||i||t.queued,s=t.autodata?"":"",l=t.autodata?"Refresh":"Add datapoint";return g("button",{class:`icon-button ${o&&"spin"}`,onClick:c=>{if(c.stopPropagation(),t.autodata)return n();const d=prompt(`Enter a number for goal "${t.slug}":`);d&&e(parseInt(d))},title:l,children:s})}const Lt={s:1,m:60,h:60*60,d:60*60*24,w:60*60*24*7,y:60*60*24*365};function rn(t){const e=new Date;return(new Date(t.losedate*1e3).getTime()-e.getTime())/1e3}function Qs(t){var i,o;const e=t.baremin.includes("-")?"-":"",r=(i=t.baremin.match(/[1-9]?\d:\d\d/))==null?void 0:i[0],n=((o=t.baremin.match(/(\d+\.?\d?\d?)/))==null?void 0:o[1])||"";return`${e}${r||n} in`}function Ut({children:t}){return g("span",{class:"countdown",children:t})}function $s({g:t}){const[e,r]=se(rn(t));if(ie(()=>{const i=setInterval(()=>r(rn(t)),1e3);return()=>clearInterval(i)}),e<0)return g(Ut,{children:""});const n=Object.keys(Lt).findLast(i=>e>Lt[i]);return n?g(Ut,{children:[Qs(t)," ",Math.floor(+e/Lt[n]),n]}):g(Ut,{children:""})}/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T.apply(this,arguments)}var B;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(B||(B={}));const nn="popstate";function js(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:s,hash:l}=n.location;return ze("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ce(i)}return Bs(e,r,null,t)}function A(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hs(){return Math.random().toString(36).substr(2,8)}function on(t,e){return{usr:t.state,key:t.key,idx:e}}function ze(t,e,r,n){return r===void 0&&(r=null),T({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?he(e):e,{state:r,key:e&&e.key||n||Hs()})}function Ce(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function he(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Bs(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l=B.Pop,c=null,d=a();d==null&&(d=0,s.replaceState(T({},s.state,{idx:d}),""));function a(){return(s.state||{idx:null}).idx}function m(){l=B.Pop;let y=a(),S=y==null?null:y-d;d=y,c&&c({action:l,location:b.location,delta:S})}function u(y,S){l=B.Push;let O=ze(b.location,y,S);r&&r(O,y),d=a()+1;let R=on(O,d),C=b.createHref(O);try{s.pushState(R,"",C)}catch{i.location.assign(C)}o&&c&&c({action:l,location:b.location,delta:1})}function h(y,S){l=B.Replace;let O=ze(b.location,y,S);r&&r(O,y),d=a();let R=on(O,d),C=b.createHref(O);s.replaceState(R,"",C),o&&c&&c({action:l,location:b.location,delta:0})}function _(y){let S=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof y=="string"?y:Ce(y);return A(S,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,S)}let b={get action(){return l},get location(){return t(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nn,m),c=y,()=>{i.removeEventListener(nn,m),c=null}},createHref(y){return e(i,y)},createURL:_,encodeLocation(y){let S=_(y);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:u,replace:h,go(y){return s.go(y)}};return b}var W;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W||(W={}));function Ks(t){return t.index===!0}function xi(t,e,r){return e===void 0&&(e=[]),r===void 0&&(r=new Set),t.map((n,i)=>{let o=[...e,i],s=typeof n.id=="string"?n.id:o.join("-");return A(n.index!==!0||!n.children,"Cannot specify children on an index route"),A(!r.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),r.add(s),Ks(n)?T({},n,{id:s}):T({},n,{id:s,children:n.children?xi(n.children,o,r):void 0})})}function Qe(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?he(e):e,i=Ai(n.pathname||"/",r);if(i==null)return null;let o=Mi(t);Ws(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=ta(o[l],ia(i));return s}function Mi(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(A(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=pe([n,c.relativePath]),a=r.concat(c);o.children&&o.children.length>0&&(A(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mi(o.children,e,a,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:Zs(d,o.index),routesMeta:a})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let c of Fi(o.path))i(o,s,c)}),e}function Fi(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Fi(n.join("/")),l=[];return l.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ws(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ea(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vs=/^:\w+$/,zs=3,Gs=2,Ys=1,Js=10,Xs=-2,sn=t=>t==="*";function Zs(t,e){let r=t.split("/"),n=r.length;return r.some(sn)&&(n+=Xs),e&&(n+=Gs),r.filter(i=>!sn(i)).reduce((i,o)=>i+(Vs.test(o)?zs:o===""?Ys:Js),n)}function ea(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function ta(t,e){let{routesMeta:r}=t,n={},i="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",a=ra({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d);if(!a)return null;Object.assign(n,a.params);let m=l.route;o.push({params:n,pathname:pe([i,a.pathname]),pathnameBase:la(pe([i,a.pathnameBase])),route:m}),a.pathnameBase!=="/"&&(i=pe([i,a.pathnameBase]))}return o}function ra(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=na(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,a,m)=>{if(a==="*"){let u=l[m]||"";s=o.slice(0,o.length-u.length).replace(/(.)\/+$/,"$1")}return d[a]=oa(l[m]||"",a),d},{}),pathname:o,pathnameBase:s,pattern:t}}function na(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ge(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(n.push(l),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ia(t){try{return decodeURI(t)}catch(e){return Ge(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function oa(t,e){try{return decodeURIComponent(t)}catch(r){return Ge(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Ai(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ge(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sa(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?he(t):t;return{pathname:r?r.startsWith("/")?r:aa(r,e):e,search:ua(n),hash:ca(i)}}function aa(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Tt(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ur(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ki(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=he(t):(i=T({},t),A(!i.pathname||!i.pathname.includes("?"),Tt("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),Tt("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),Tt("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(n||s==null)l=r;else{let m=e.length-1;if(s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),m-=1;i.pathname=u.join("/")}l=m>=0?e[m]:"/"}let c=sa(i,l),d=s&&s!=="/"&&s.endsWith("/"),a=(o||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||a)&&(c.pathname+="/"),c}const pe=t=>t.join("/").replace(/\/\/+/g,"/"),la=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ua=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ca=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class an extends Error{}class da{constructor(e,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],A(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,s)=>n=s),this.controller=new AbortController;let i=()=>n(new an("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((o,s)=>{let[l,c]=s;return Object.assign(o,{[l]:this.trackPromise(l,c)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(e,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([r,this.abortPromise]).then(i=>this.onSettle(n,e,null,i),i=>this.onSettle(n,e,i));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,r,n,i){return this.controller.signal.aborted&&n instanceof an?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,r),i))}emit(e,r){this.subscribers.forEach(n=>n(e,r))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(e){let r=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),r=await new Promise(i=>{this.subscribe(o=>{e.removeEventListener("abort",n),(o||this.done)&&i(o)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return A(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,r)=>{let[n,i]=r;return Object.assign(e,{[n]:fa(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function ha(t){return t instanceof Promise&&t._tracked===!0}function fa(t){if(!ha(t))return t;if(t._error)throw t._error;return t._data}class cr{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Li(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ui=["post","put","patch","delete"],pa=new Set(Ui),ma=["get",...Ui],_a=new Set(ma),ya=new Set([301,302,303,307,308]),va=new Set([307,308]),It={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ga={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ln={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ti=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ii=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ba=!Ii;function Ra(t){A(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=xi(t.routes),r=null,n=new Set,i=null,o=null,s=null,l=t.hydrationData!=null,c=Qe(e,t.history.location,t.basename),d=null;if(c==null){let f=fe(404,{pathname:t.history.location.pathname}),{matches:p,route:v}=pn(e);c=p,d={[v.id]:f}}let a=!c.some(f=>f.route.loader)||t.hydrationData!=null,m,u={historyAction:t.history.action,location:t.history.location,matches:c,initialized:a,navigation:It,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||d,fetchers:new Map,blockers:new Map},h=B.Pop,_=!1,b,y=!1,S=!1,O=[],R=[],C=new Map,$=0,k=-1,q=new Map,D=new Set,Q=new Map,J=new Map,X=new Map,et=!1;function Ct(){return r=t.history.listen(f=>{let{action:p,location:v,delta:E}=f;if(et){et=!1;return}Ge(X.size===0||E!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let w=Rr({currentLocation:u.location,nextLocation:v,historyAction:p});if(w&&E!=null){et=!0,t.history.go(E*-1),rt(w,{state:"blocked",location:v,proceed(){rt(w,{state:"proceeding",proceed:void 0,reset:void 0,location:v}),t.history.go(E)},reset(){Ue(w),V({blockers:new Map(m.state.blockers)})}});return}return ve(p,v)}),u.initialized||ve(B.Pop,u.location),m}function Vi(){r&&r(),n.clear(),b&&b.abort(),u.fetchers.forEach((f,p)=>Pt(p)),u.blockers.forEach((f,p)=>Ue(p))}function zi(f){return n.add(f),()=>n.delete(f)}function V(f){u=T({},u,f),n.forEach(p=>p(u))}function ke(f,p){var v,E;let w=u.actionData!=null&&u.navigation.formMethod!=null&&le(u.navigation.formMethod)&&u.navigation.state==="loading"&&((v=f.state)==null?void 0:v._isRedirect)!==!0,F;p.actionData?Object.keys(p.actionData).length>0?F=p.actionData:F=null:w?F=u.actionData:F=null;let M=p.loaderData?fn(u.loaderData,p.loaderData,p.matches||[],p.errors):u.loaderData;for(let[x]of X)Ue(x);let L=_===!0||u.navigation.formMethod!=null&&le(u.navigation.formMethod)&&((E=f.state)==null?void 0:E._isRedirect)!==!0;V(T({},p,{actionData:F,loaderData:M,historyAction:h,location:f,initialized:!0,navigation:It,revalidation:"idle",restoreScrollPosition:wr(f,p.matches||u.matches),preventScrollReset:L,blockers:new Map(u.blockers)})),y||h===B.Pop||(h===B.Push?t.history.push(f,f.state):h===B.Replace&&t.history.replace(f,f.state)),h=B.Pop,_=!1,y=!1,S=!1,O=[],R=[]}async function _r(f,p){if(typeof f=="number"){t.history.go(f);return}let{path:v,submission:E,error:w}=un(f,p),F=u.location,M=ze(u.location,v,p&&p.state);M=T({},M,t.history.encodeLocation(M));let L=p&&p.replace!=null?p.replace:void 0,x=B.Push;L===!0?x=B.Replace:L===!1||E!=null&&le(E.formMethod)&&E.formAction===u.location.pathname+u.location.search&&(x=B.Replace);let G=p&&"preventScrollReset"in p?p.preventScrollReset===!0:void 0,U=Rr({currentLocation:F,nextLocation:M,historyAction:x});if(U){rt(U,{state:"blocked",location:M,proceed(){rt(U,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),_r(f,p)},reset(){Ue(U),V({blockers:new Map(u.blockers)})}});return}return await ve(x,M,{submission:E,pendingError:w,preventScrollReset:G,replace:p&&p.replace})}function Gi(){if(St(),V({revalidation:"loading"}),u.navigation.state!=="submitting"){if(u.navigation.state==="idle"){ve(u.historyAction,u.location,{startUninterruptedRevalidation:!0});return}ve(h||u.historyAction,u.navigation.location,{overrideNavigation:u.navigation})}}async function ve(f,p,v){b&&b.abort(),b=null,h=f,y=(v&&v.startUninterruptedRevalidation)===!0,io(u.location,u.matches),_=(v&&v.preventScrollReset)===!0;let E=v&&v.overrideNavigation,w=Qe(e,p,t.basename);if(!w){let H=fe(404,{pathname:p.pathname}),{matches:re,route:ne}=pn(e);Ot(),ke(p,{matches:re,loaderData:{},errors:{[ne.id]:H}});return}if(Pa(u.location,p)&&!(v&&v.submission&&le(v.submission.formMethod))){ke(p,{matches:w});return}b=new AbortController;let F=qe(t.history,p,b.signal,v&&v.submission),M,L;if(v&&v.pendingError)L={[Oe(w).route.id]:v.pendingError};else if(v&&v.submission&&le(v.submission.formMethod)){let H=await Yi(F,p,v.submission,w,{replace:v.replace});if(H.shortCircuited)return;M=H.pendingActionData,L=H.pendingActionError,E=T({state:"loading",location:p},v.submission),F=new Request(F.url,{signal:F.signal})}let{shortCircuited:x,loaderData:G,errors:U}=await Ji(F,p,w,E,v&&v.submission,v&&v.replace,M,L);x||(b=null,ke(p,T({matches:w},M?{actionData:M}:{},{loaderData:G,errors:U})))}async function Yi(f,p,v,E,w){St();let F=T({state:"submitting",location:p},v);V({navigation:F});let M,L=vn(E,p);if(!L.route.action)M={type:W.error,error:fe(405,{method:f.method,pathname:p.pathname,routeId:L.route.id})};else if(M=await Ie("action",f,L,E,m.basename),f.signal.aborted)return{shortCircuited:!0};if(De(M)){let x;return w&&w.replace!=null?x=w.replace:x=M.location===u.location.pathname+u.location.search,await Le(u,M,{submission:v,replace:x}),{shortCircuited:!0}}if(Be(M)){let x=Oe(E,L.route.id);return(w&&w.replace)!==!0&&(h=B.Push),{pendingActionData:{},pendingActionError:{[x.route.id]:M.error}}}if(Re(M))throw fe(400,{type:"defer-action"});return{pendingActionData:{[L.route.id]:M.data}}}async function Ji(f,p,v,E,w,F,M,L){let x=E;x||(x=T({state:"loading",location:p,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},w));let G=w||(x.formMethod&&x.formAction&&x.formData&&x.formEncType?{formMethod:x.formMethod,formAction:x.formAction,formData:x.formData,formEncType:x.formEncType}:void 0),[U,H]=cn(t.history,u,v,G,p,S,O,R,M,L,Q);if(Ot(z=>!(v&&v.some(oe=>oe.route.id===z))||U&&U.some(oe=>oe.route.id===z)),U.length===0&&H.length===0)return ke(p,T({matches:v,loaderData:{},errors:L||null},M?{actionData:M}:{})),{shortCircuited:!0};if(!y){H.forEach(oe=>{let ge=u.fetchers.get(oe.key),ot={state:"loading",data:ge&&ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(oe.key,ot)});let z=M||u.actionData;V(T({navigation:x},z?Object.keys(z).length===0?{actionData:null}:{actionData:z}:{},H.length>0?{fetchers:new Map(u.fetchers)}:{}))}k=++$,H.forEach(z=>C.set(z.key,b));let{results:re,loaderResults:ne,fetcherResults:Te}=await vr(u.matches,v,U,H,f);if(f.signal.aborted)return{shortCircuited:!0};H.forEach(z=>C.delete(z.key));let nt=mn(re);if(nt)return await Le(u,nt,{replace:F}),{shortCircuited:!0};let{loaderData:it,errors:Ee}=hn(u,v,U,ne,L,H,Te,J);J.forEach((z,oe)=>{z.subscribe(ge=>{(ge||z.done)&&J.delete(oe)})}),to();let Dt=br(k);return T({loaderData:it,errors:Ee},Dt||H.length>0?{fetchers:new Map(u.fetchers)}:{})}function yr(f){return u.fetchers.get(f)||ga}function Xi(f,p,v,E){if(ba)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(f)&&tt(f);let w=Qe(e,v,t.basename);if(!w){Et(f,p,fe(404,{pathname:v}));return}let{path:F,submission:M}=un(v,E,!0),L=vn(w,F);if(_=(E&&E.preventScrollReset)===!0,M&&le(M.formMethod)){Zi(f,p,F,L,w,M);return}Q.set(f,{routeId:p,path:F,match:L,matches:w}),eo(f,p,F,L,w,M)}async function Zi(f,p,v,E,w,F){if(St(),Q.delete(f),!E.route.action){let ae=fe(405,{method:F.formMethod,pathname:v,routeId:p});Et(f,p,ae);return}let M=u.fetchers.get(f),L=T({state:"submitting"},F,{data:M&&M.data," _hasFetcherDoneAnything ":!0});u.fetchers.set(f,L),V({fetchers:new Map(u.fetchers)});let x=new AbortController,G=qe(t.history,v,x.signal,F);C.set(f,x);let U=await Ie("action",G,E,w,m.basename);if(G.signal.aborted){C.get(f)===x&&C.delete(f);return}if(De(U)){C.delete(f),D.add(f);let ae=T({state:"loading"},F,{data:void 0," _hasFetcherDoneAnything ":!0});return u.fetchers.set(f,ae),V({fetchers:new Map(u.fetchers)}),Le(u,U,{isFetchActionRedirect:!0})}if(Be(U)){Et(f,p,U.error);return}if(Re(U))throw fe(400,{type:"defer-action"});let H=u.navigation.location||u.location,re=qe(t.history,H,x.signal),ne=u.navigation.state!=="idle"?Qe(e,u.navigation.location,t.basename):u.matches;A(ne,"Didn't find any matches after fetcher action");let Te=++$;q.set(f,Te);let nt=T({state:"loading",data:U.data},F,{" _hasFetcherDoneAnything ":!0});u.fetchers.set(f,nt);let[it,Ee]=cn(t.history,u,ne,F,H,S,O,R,{[E.route.id]:U.data},void 0,Q);Ee.filter(ae=>ae.key!==f).forEach(ae=>{let Mt=ae.key,Cr=u.fetchers.get(Mt),ao={state:"loading",data:Cr&&Cr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(Mt,ao),C.set(Mt,x)}),V({fetchers:new Map(u.fetchers)});let{results:Dt,loaderResults:z,fetcherResults:oe}=await vr(u.matches,ne,it,Ee,re);if(x.signal.aborted)return;q.delete(f),C.delete(f),Ee.forEach(ae=>C.delete(ae.key));let ge=mn(Dt);if(ge)return Le(u,ge);let{loaderData:ot,errors:xt}=hn(u,u.matches,it,z,void 0,Ee,oe,J),oo={state:"idle",data:U.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(f,oo);let so=br(Te);u.navigation.state==="loading"&&Te>k?(A(h,"Expected pending action"),b&&b.abort(),ke(u.navigation.location,{matches:ne,loaderData:ot,errors:xt,fetchers:new Map(u.fetchers)})):(V(T({errors:xt,loaderData:fn(u.loaderData,ot,ne,xt)},so?{fetchers:new Map(u.fetchers)}:{})),S=!1)}async function eo(f,p,v,E,w,F){let M=u.fetchers.get(f),L=T({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},F,{data:M&&M.data," _hasFetcherDoneAnything ":!0});u.fetchers.set(f,L),V({fetchers:new Map(u.fetchers)});let x=new AbortController,G=qe(t.history,v,x.signal);C.set(f,x);let U=await Ie("loader",G,E,w,m.basename);if(Re(U)&&(U=await $i(U,G.signal,!0)||U),C.get(f)===x&&C.delete(f),G.signal.aborted)return;if(De(U)){await Le(u,U);return}if(Be(U)){let re=Oe(u.matches,p);u.fetchers.delete(f),V({fetchers:new Map(u.fetchers),errors:{[re.route.id]:U.error}});return}A(!Re(U),"Unhandled fetcher deferred data");let H={state:"idle",data:U.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(f,H),V({fetchers:new Map(u.fetchers)})}async function Le(f,p,v){var E;let{submission:w,replace:F,isFetchActionRedirect:M}=v===void 0?{}:v;p.revalidate&&(S=!0);let L=ze(f.location,p.location,T({_isRedirect:!0},M?{_isFetchActionRedirect:!0}:{}));if(A(L,"Expected a location on the redirect navigation"),Ti.test(p.location)&&Ii&&typeof((E=window)==null?void 0:E.location)<"u"){let ne=t.history.createURL(p.location).origin;if(window.location.origin!==ne){F?window.location.replace(p.location):window.location.assign(p.location);return}}b=null;let x=F===!0?B.Replace:B.Push,{formMethod:G,formAction:U,formEncType:H,formData:re}=f.navigation;!w&&G&&U&&re&&H&&(w={formMethod:G,formAction:U,formEncType:H,formData:re}),va.has(p.status)&&w&&le(w.formMethod)?await ve(x,L,{submission:T({},w,{formAction:p.location}),preventScrollReset:_}):await ve(x,L,{overrideNavigation:{state:"loading",location:L,formMethod:w?w.formMethod:void 0,formAction:w?w.formAction:void 0,formEncType:w?w.formEncType:void 0,formData:w?w.formData:void 0},preventScrollReset:_})}async function vr(f,p,v,E,w){let F=await Promise.all([...v.map(x=>Ie("loader",w,x,p,m.basename)),...E.map(x=>Ie("loader",qe(t.history,x.path,w.signal),x.match,x.matches,m.basename))]),M=F.slice(0,v.length),L=F.slice(v.length);return await Promise.all([_n(f,v,M,w.signal,!1,u.loaderData),_n(f,E.map(x=>x.match),L,w.signal,!0)]),{results:F,loaderResults:M,fetcherResults:L}}function St(){S=!0,O.push(...Ot()),Q.forEach((f,p)=>{C.has(p)&&(R.push(p),tt(p))})}function Et(f,p,v){let E=Oe(u.matches,p);Pt(f),V({errors:{[E.route.id]:v},fetchers:new Map(u.fetchers)})}function Pt(f){C.has(f)&&tt(f),Q.delete(f),q.delete(f),D.delete(f),u.fetchers.delete(f)}function tt(f){let p=C.get(f);A(p,"Expected fetch controller: "+f),p.abort(),C.delete(f)}function gr(f){for(let p of f){let E={state:"idle",data:yr(p).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(p,E)}}function to(){let f=[];for(let p of D){let v=u.fetchers.get(p);A(v,"Expected fetcher: "+p),v.state==="loading"&&(D.delete(p),f.push(p))}gr(f)}function br(f){let p=[];for(let[v,E]of q)if(E<f){let w=u.fetchers.get(v);A(w,"Expected fetcher: "+v),w.state==="loading"&&(tt(v),q.delete(v),p.push(v))}return gr(p),p.length>0}function ro(f,p){let v=u.blockers.get(f)||ln;return X.get(f)!==p&&X.set(f,p),v}function Ue(f){u.blockers.delete(f),X.delete(f)}function rt(f,p){let v=u.blockers.get(f)||ln;A(v.state==="unblocked"&&p.state==="blocked"||v.state==="blocked"&&p.state==="blocked"||v.state==="blocked"&&p.state==="proceeding"||v.state==="blocked"&&p.state==="unblocked"||v.state==="proceeding"&&p.state==="unblocked","Invalid blocker state transition: "+v.state+" -> "+p.state),u.blockers.set(f,p),V({blockers:new Map(u.blockers)})}function Rr(f){let{currentLocation:p,nextLocation:v,historyAction:E}=f;if(X.size===0)return;X.size>1&&Ge(!1,"A router only supports one blocker at a time");let w=Array.from(X.entries()),[F,M]=w[w.length-1],L=u.blockers.get(F);if(!(L&&L.state==="proceeding")&&M({currentLocation:p,nextLocation:v,historyAction:E}))return F}function Ot(f){let p=[];return J.forEach((v,E)=>{(!f||f(E))&&(v.cancel(),p.push(E),J.delete(E))}),p}function no(f,p,v){if(i=f,s=p,o=v||(E=>E.key),!l&&u.navigation===It){l=!0;let E=wr(u.location,u.matches);E!=null&&V({restoreScrollPosition:E})}return()=>{i=null,s=null,o=null}}function io(f,p){if(i&&o&&s){let v=p.map(w=>yn(w,u.loaderData)),E=o(f,v)||f.key;i[E]=s()}}function wr(f,p){if(i&&o&&s){let v=p.map(F=>yn(F,u.loaderData)),E=o(f,v)||f.key,w=i[E];if(typeof w=="number")return w}return null}return m={get basename(){return t.basename},get state(){return u},get routes(){return e},initialize:Ct,subscribe:zi,enableScrollRestoration:no,navigate:_r,fetch:Xi,revalidate:Gi,createHref:f=>t.history.createHref(f),encodeLocation:f=>t.history.encodeLocation(f),getFetcher:yr,deleteFetcher:Pt,dispose:Vi,getBlocker:ro,deleteBlocker:Ue,_internalFetchControllers:C,_internalActiveDeferreds:J},m}function wa(t){return t!=null&&"formData"in t}function un(t,e,r){r===void 0&&(r=!1);let n=typeof t=="string"?t:Ce(t);if(!e||!wa(e))return{path:n};if(e.formMethod&&!Da(e.formMethod))return{path:n,error:fe(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:Qi(n),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},le(i.formMethod)))return{path:n,submission:i};let o=he(n),s=Ni(e.formData);return r&&o.search&&ji(o.search)&&s.append("index",""),o.search="?"+s,{path:Ce(o),submission:i}}function Ca(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function cn(t,e,r,n,i,o,s,l,c,d,a){let m=d?Object.values(d)[0]:c?Object.values(c)[0]:void 0,u=t.createURL(e.location),h=t.createURL(i),_=o||u.toString()===h.toString()||u.search!==h.search,b=d?Object.keys(d)[0]:void 0,S=Ca(r,b).filter((R,C)=>{if(R.route.loader==null)return!1;if(Sa(e.loaderData,e.matches[C],R)||s.some(q=>q===R.route.id))return!0;let $=e.matches[C],k=R;return dn(R,T({currentUrl:u,currentParams:$.params,nextUrl:h,nextParams:k.params},n,{actionResult:m,defaultShouldRevalidate:_||qi($,k)}))}),O=[];return a&&a.forEach((R,C)=>{if(r.some($=>$.route.id===R.routeId))l.includes(C)?O.push(T({key:C},R)):dn(R.match,T({currentUrl:u,currentParams:e.matches[e.matches.length-1].params,nextUrl:h,nextParams:r[r.length-1].params},n,{actionResult:m,defaultShouldRevalidate:_}))&&O.push(T({key:C},R));else return}),[S,O]}function Sa(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function qi(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function dn(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function Ie(t,e,r,n,i,o,s,l){i===void 0&&(i="/"),o===void 0&&(o=!1),s===void 0&&(s=!1);let c,d,a,m=new Promise((h,_)=>a=_),u=()=>a();e.signal.addEventListener("abort",u);try{let h=r.route[t];A(h,"Could not find the "+t+' to run on the "'+r.route.id+'" route'),d=await Promise.race([h({request:e,params:r.params,context:l}),m]),A(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){c=W.error,d=h}finally{e.signal.removeEventListener("abort",u)}if(Oa(d)){let h=d.status;if(ya.has(h)){let y=d.headers.get("Location");if(A(y,"Redirects returned/thrown from loaders/actions must have a Location header"),Ti.test(y)){if(!o){let S=new URL(e.url),O=y.startsWith("//")?new URL(S.protocol+y):new URL(y);O.origin===S.origin&&(y=O.pathname+O.search+O.hash)}}else{let S=n.slice(0,n.indexOf(r)+1),O=ur(S).map(C=>C.pathnameBase),R=ki(y,O,new URL(e.url).pathname);if(A(Ce(R),"Unable to resolve redirect location: "+y),i){let C=R.pathname;R.pathname=C==="/"?i:pe([i,C])}y=Ce(R)}if(o)throw d.headers.set("Location",y),d;return{type:W.redirect,status:h,location:y,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:c||W.data,response:d};let _,b=d.headers.get("Content-Type");return b&&/\bapplication\/json\b/.test(b)?_=await d.json():_=await d.text(),c===W.error?{type:c,error:new cr(h,d.statusText,_),headers:d.headers}:{type:W.data,data:_,statusCode:d.status,headers:d.headers}}return c===W.error?{type:c,error:d}:d instanceof da?{type:W.deferred,deferredData:d}:{type:W.data,data:d}}function qe(t,e,r,n){let i=t.createURL(Qi(e)).toString(),o={signal:r};if(n&&le(n.formMethod)){let{formMethod:s,formEncType:l,formData:c}=n;o.method=s.toUpperCase(),o.body=l==="application/x-www-form-urlencoded"?Ni(c):c}return new Request(i,o)}function Ni(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,n instanceof File?n.name:n);return e}function Ea(t,e,r,n,i){let o={},s=null,l,c=!1,d={};return r.forEach((a,m)=>{let u=e[m].route.id;if(A(!De(a),"Cannot handle redirect results in processLoaderData"),Be(a)){let h=Oe(t,u),_=a.error;n&&(_=Object.values(n)[0],n=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=_),o[u]=void 0,c||(c=!0,l=Li(a.error)?a.error.status:500),a.headers&&(d[u]=a.headers)}else Re(a)?(i.set(u,a.deferredData),o[u]=a.deferredData.data):o[u]=a.data,a.statusCode!=null&&a.statusCode!==200&&!c&&(l=a.statusCode),a.headers&&(d[u]=a.headers)}),n&&(s=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:d}}function hn(t,e,r,n,i,o,s,l){let{loaderData:c,errors:d}=Ea(e,r,n,i,l);for(let a=0;a<o.length;a++){let{key:m,match:u}=o[a];A(s!==void 0&&s[a]!==void 0,"Did not find corresponding fetcher result");let h=s[a];if(Be(h)){let _=Oe(t.matches,u.route.id);d&&d[_.route.id]||(d=T({},d,{[_.route.id]:h.error})),t.fetchers.delete(m)}else if(De(h))A(!1,"Unhandled fetcher revalidation redirect");else if(Re(h))A(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:h.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(m,_)}}return{loaderData:c,errors:d}}function fn(t,e,r,n){let i=T({},e);for(let o of r){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),n&&n.hasOwnProperty(s))break}return i}function Oe(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function pn(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fe(t,e){let{pathname:r,routeId:n,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(l="defer() is not supported in actions")):t===403?(s="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(s="Not Found",l='No route matches URL "'+r+'"'):t===405&&(s="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new cr(t||500,s,new Error(l),!0)}function mn(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(De(r))return r}}function Qi(t){let e=typeof t=="string"?he(t):t;return Ce(T({},e,{hash:""}))}function Pa(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Re(t){return t.type===W.deferred}function Be(t){return t.type===W.error}function De(t){return(t&&t.type)===W.redirect}function Oa(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Da(t){return _a.has(t)}function le(t){return pa.has(t)}async function _n(t,e,r,n,i,o){for(let s=0;s<r.length;s++){let l=r[s],c=e[s],d=t.find(m=>m.route.id===c.route.id),a=d!=null&&!qi(d,c)&&(o&&o[c.route.id])!==void 0;Re(l)&&(i||a)&&await $i(l,n,i).then(m=>{m&&(r[s]=m||r[s])})}}async function $i(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:W.data,data:t.deferredData.unwrappedData}}catch(i){return{type:W.error,error:i}}return{type:W.data,data:t.deferredData.data}}}function ji(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function yn(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function vn(t,e){let r=typeof e=="string"?he(e).search:e.search;if(t[t.length-1].route.index&&ji(r||""))return t[t.length-1];let n=ur(t);return n[n.length-1]}/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yt.apply(this,arguments)}function xa(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Ma=typeof Object.is=="function"?Object.is:xa,{useState:Fa,useEffect:Aa,useLayoutEffect:ka,useDebugValue:La}=_t;function Ua(t,e,r){const n=e(),[{inst:i},o]=Fa({inst:{value:n,getSnapshot:e}});return ka(()=>{i.value=n,i.getSnapshot=e,qt(i)&&o({inst:i})},[t,n,e]),Aa(()=>(qt(i)&&o({inst:i}),t(()=>{qt(i)&&o({inst:i})})),[t]),La(n),n}function qt(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!Ma(r,n)}catch{return!0}}function Ta(t,e,r){return e()}const Ia=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qa=!Ia,Na=qa?Ta:Ua,Qa="useSyncExternalStore"in _t?(t=>t.useSyncExternalStore)(_t):Na,dr=te(null),hr=te(null),fr=te(null),Rt=te(null),Ze=te({outlet:null,matches:[]}),Hi=te(null);function wt(){return K(Rt)!=null}function pr(){return wt()||A(!1),K(Rt).location}function $a(){wt()||A(!1);let{basename:t,navigator:e}=K(fr),{matches:r}=K(Ze),{pathname:n}=pr(),i=JSON.stringify(ur(r).map(l=>l.pathnameBase)),o=Ve(!1);return ie(()=>{o.current=!0}),_e(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){e.go(l);return}let d=ki(l,JSON.parse(i),n,c.relative==="path");t!=="/"&&(d.pathname=d.pathname==="/"?t:pe([t,d.pathname])),(c.replace?e.replace:e.push)(d,c.state,c)},[t,e,i,n])}function ja(t,e){wt()||A(!1);let{navigator:r}=K(fr),n=K(hr),{matches:i}=K(Ze),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=pr(),d;if(e){var a;let b=typeof e=="string"?he(e):e;l==="/"||(a=b.pathname)!=null&&a.startsWith(l)||A(!1),d=b}else d=c;let m=d.pathname||"/",u=l==="/"?m:m.slice(l.length)||"/",h=Qe(t,{pathname:u}),_=Wa(h&&h.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:pe([l,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:pe([l,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n||void 0);return e&&_?I(Rt.Provider,{value:{location:yt({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:B.Pop}},_):_}function Ha(){let t=Ya(),e=Li(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null;return I(Y,null,I("h2",null,"Unexpected Application Error!"),I("h3",{style:{fontStyle:"italic"}},e),r?I("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},r):null,null)}class Ba extends ee{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location?{error:e.error,location:e.location}:{error:e.error||r.error,location:r.location}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?I(Ze.Provider,{value:this.props.routeContext},I(Hi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ka(t){let{routeContext:e,match:r,children:n}=t,i=K(dr);return i&&i.static&&i.staticContext&&r.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I(Ze.Provider,{value:e},n)}function Wa(t,e,r){if(e===void 0&&(e=[]),t==null)if(r!=null&&r.errors)t=r.matches;else return null;let n=t,i=r==null?void 0:r.errors;if(i!=null){let o=n.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||A(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,s,l)=>{let c=s.route.id?i==null?void 0:i[s.route.id]:null,d=r?s.route.errorElement||I(Ha,null):null,a=e.concat(n.slice(0,l+1)),m=()=>I(Ka,{match:s,routeContext:{outlet:o,matches:a}},c?d:s.route.element!==void 0?s.route.element:o);return r&&(s.route.errorElement||l===0)?I(Ba,{location:r.location,component:d,error:c,children:m(),routeContext:{outlet:null,matches:a}}):m()},null)}var gn;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(gn||(gn={}));var vt;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(vt||(vt={}));function Va(t){let e=K(hr);return e||A(!1),e}function za(t){let e=K(Ze);return e||A(!1),e}function Ga(t){let e=za(),r=e.matches[e.matches.length-1];return r.route.id||A(!1),r.route.id}function Ya(){var t;let e=K(Hi),r=Va(vt.UseRouteError),n=Ga(vt.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function Ja(t){let{fallbackElement:e,router:r}=t,n=Qa(r.subscribe,()=>r.state,()=>r.state),i=me(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:s=>r.navigate(s),push:(s,l,c)=>r.navigate(s,{state:l,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(s,l,c)=>r.navigate(s,{replace:!0,state:l,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[r]),o=r.basename||"/";return I(Y,null,I(dr.Provider,{value:{router:r,navigator:i,static:!1,basename:o}},I(hr.Provider,{value:n},I(Za,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:i},r.state.initialized?I(el,null):e))),null)}function Xa(t){A(!1)}function Za(t){let{basename:e="/",children:r=null,location:n,navigationType:i=B.Pop,navigator:o,static:s=!1}=t;wt()&&A(!1);let l=e.replace(/^\/*/,"/"),c=me(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof n=="string"&&(n=he(n));let{pathname:d="/",search:a="",hash:m="",state:u=null,key:h="default"}=n,_=me(()=>{let b=Ai(d,l);return b==null?null:{pathname:b,search:a,hash:m,state:u,key:h}},[l,d,a,m,u,h]);return _==null?null:I(fr.Provider,{value:c},I(Rt.Provider,{children:r,value:{location:_,navigationType:i}}))}function el(t){let{children:e,location:r}=t,n=K(dr),i=n&&!e?n.router.routes:zt(e);return ja(i,r)}var bn;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(bn||(bn={}));new Promise(()=>{});function zt(t,e){e===void 0&&(e=[]);let r=[];return nr.forEach(t,(n,i)=>{if(!bt(n))return;if(n.type===Y){r.push.apply(r,zt(n.props.children,e));return}n.type!==Xa&&A(!1),!n.props.index||!n.props.children||A(!1);let o=[...e,i],s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(s.children=zt(n.props.children,o)),r.push(s)}),r}function Bi(t){return t.map(e=>{let r=yt({},e);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=Bi(r.children)),r})}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gt(){return Gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gt.apply(this,arguments)}function Yt(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function tl(t,e){let r=Yt(t);if(e)for(let n of e.keys())r.has(n)||e.getAll(n).forEach(i=>{r.append(n,i)});return r}function rl(t,e){return Ra({basename:e==null?void 0:e.basename,history:js({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||nl(),routes:Bi(t)}).initialize()}function nl(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Gt({},e,{errors:il(e.errors)})),e}function il(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new cr(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",r[n]=o}else r[n]=i;return r}var Rn;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Rn||(Rn={}));var wn;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wn||(wn={}));function Ki(t){let e=Ve(Yt(t)),r=Ve(!1),n=pr(),i=me(()=>tl(n.search,r.current?null:e.current),[n.search]),o=$a(),s=_e((l,c)=>{const d=Yt(typeof l=="function"?l(i):l);r.current=!0,o("?"+d,c)},[o,i]);return[i,s]}function mr(){return Ss(["goals"],()=>Ms(),{enabled:!!ar,refetchInterval:()=>{try{const t=we.getQueryData(["goals"]);return(t==null?void 0:t.find(r=>r.queued))?3e3:6e4}catch(t){return console.error(t),6e4}},refetchIntervalInBackground:!1,retry:!1,onError:t=>{switch(t.status){case 401:Oi();break;default:console.error(t)}}})}function ol({g:t}){const[,e]=Ki(),{data:r=[]}=mr(),n=Object.values(Pi(r)).flat(),i=n.findIndex(d=>d.slug===t.slug),o=i>0,s=i<n.length-1,l=()=>e("goal="+n[i-1].slug),c=()=>e("goal="+n[i+1].slug);return ie(()=>{const d=a=>{switch(a.key){case"ArrowLeft":l();break;case"ArrowRight":c();break;case"Escape":e("");break}};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[]),g("div",{class:"detail",style:{"--border-color":`var(--${t.roadstatuscolor})`},children:[g("div",{class:`detail__limsumdate ${t.roadstatuscolor}`,children:[g("button",{onClick:()=>l(),className:`icon-button ${!o&&"detail__disabled"}`,children:""}),g("span",{children:t.limsumdate}),g("button",{onClick:()=>c(),className:`icon-button ${!s&&"detail__disabled"}`,children:""})]}),g("div",{class:"detail__header",children:[g("a",{href:`https://beeminder.com/${Os}/${t.slug}`,class:"detail__headerText",children:[g("img",{src:t.thumb_url,width:200,height:132}),g("div",{children:[g("h1",{children:t.slug}),g("div",{class:"detail__title",children:t.title})]})]}),g("div",{class:"detail__buttons",children:[g(Di,{g:t}),g("button",{onClick:()=>e(""),className:"icon-button",children:""})]})]}),g("div",{className:"detail_info",children:[g("table",{children:[g("thead",{children:g("tr",{children:[g("th",{children:"Date"}),g("th",{children:"Comment"}),g("th",{children:"Value"})]})}),g("tbody",{children:t.recent_data.map(d=>g("tr",{children:[g("td",{children:d.daystamp}),g("td",{children:d.comment}),g("td",{children:d.value})]}))})]}),g("p",{children:[g("strong",{children:"Fineprint:"})," ",t.fineprint||"[empty]"]})]})]})}function sl({g:t}){const[e,r]=Ki(),n=e.get("goal")===t.slug,i=t.safebuf===0?"today":t.todayta?"later":"next";return g(Y,{children:[n&&g(ol,{g:t}),g("div",{class:`goal ${i}`,onClick:()=>{const o=new URLSearchParams(window.location.search);o.set("goal",t.slug),r(o)},style:{"--goal-color":`var(--${t.roadstatuscolor})`},children:[g("h3",{children:t.slug}),g("p",{class:"data",children:[g($s,{g:t}),g(Di,{g:t})]})]})]})}function al({goals:t=[]}){const e=Object.values(Pi(t)).flat();return g("div",{class:"goals",children:e.map(r=>g(sl,{g:r},r.slug))})}function Wi({children:t}){return g("div",{class:"center",children:g("div",{children:t})})}function ll(){return g(Wi,{children:g("form",{class:"login",onSubmit:t=>{t.preventDefault(),Ds(t.currentTarget.username.value,t.currentTarget.key.value)},children:[g("p",{children:["Retrieve your API token"," ",g("a",{href:"https://www.beeminder.com/api/v1/auth_token.json",children:"here"}),"."]}),g("input",{placeholder:"Username",name:"username",id:"username"}),g("input",{placeholder:"Beeminder API key",name:"key",id:"key"}),g("input",{type:"submit",value:"Save"})]})})}function ul(){return g("small",{class:"footer",children:g("span",{children:["Made by"," ",g("a",{href:"https://nathanarthur.com/",target:"_blank",children:"Narthur"}),"."," ",g("a",{href:"https://github.com/TaskRatchet/bm",target:"_blank",children:"View source"}),". See also:"," ",g("a",{href:"https://taskratchet.com",target:"_blank",children:"TaskRatchet"})]})})}function cl({goals:t}){const e=t.filter(o=>o.safebuf===0),r=t.filter(o=>o.safebuf===1),n=t.filter(o=>o.safebuf===2),i=t.filter(o=>o.safebuf>2);return g("div",{class:"colors",style:{"--redLen":e.length/t.length*100+"%","--orangeLen":r.length/t.length*100+"%","--blueLen":n.length/t.length*100+"%","--greenLen":i.length/t.length*100+"%"},children:[g("span",{class:"red"}),g("span",{class:"orange"}),g("span",{class:"blue"}),g("span",{class:"green"})]})}function Cn(){const t=new Date,e=t.getHours().toString().padStart(2,"0"),r=t.getMinutes().toString().padStart(2,"0");return`${e}:${r}`}function dl({p:t}){const e=`${t.position*100}%`,r=new Date(t.time*1e3).toLocaleTimeString(),n=t.goals.map(o=>o.slug),i=`${r}
${n.join(`
`)}`;return g("span",{style:{left:e},title:i,children:t.goals.length})}const hl=1e3*60*60*24;function fl(t,e){return{time:t,position:(t*1e3-new Date().getTime())/hl,goals:e.filter(r=>r.losedate===t)}}function pl(t){return Object.values(t).sort((e,r)=>e.time-r.time)}function Sn(t){const e=t.filter(r=>r.safebuf===0).reduce((r,n)=>({...r,[n.losedate]:fl(n.losedate,t)}),{});return pl(e)}function ml({goals:t}){const[e,r]=se(Cn()),[n,i]=se(Sn(t));return ie(()=>{const o=setInterval(()=>{r(Cn()),i(Sn(t))},6e4);return()=>clearInterval(o)},[]),g("div",{class:"time",children:[g("span",{class:"bubble",children:e}),g("span",{class:"line",children:n.map(o=>g(dl,{p:o}))})]})}const _l=[{name:"Add goal",icon:"",url:"https://beeminder.com/new"},{name:"Add breaks",icon:"",onClick:()=>{const t=window.prompt("Start date (YYYY-MM-DD)"),e=window.prompt("Finish date (YYYY-MM-DD)"),r=`https://beeminder.com/breaks?start=${t}&finish=${e}`;window.open(r)}},{name:"Account settings",icon:"",url:"https://beeminder.com/settings/account"},{name:"Blog",icon:"",url:"https://blog.beeminder.com/"},{name:"Docs",icon:"",url:"https://help.beeminder.com/"},{name:"Premium",icon:"",url:"https://www.beeminder.com/premium"},{name:"Logout",icon:"",onClick:Oi},{name:"Refresh",icon:"",onClick:()=>we.refetchQueries(),getClasses:t=>t?"spin":""}];function yl({search:t,setSearch:e}){const{data:r=[]}=mr(),n=Es();return g("div",{class:"header",children:[g(cl,{goals:r}),g(ml,{goals:r}),g("div",{class:"global-controls",children:[g("span",{class:"filter",children:[g("input",{type:"text",placeholder:"filter",value:t,onChange:i=>e(i.target.value)}),g("button",{class:"icon-button",onClick:()=>e(""),children:""})]}),g("span",{class:"buttons",children:_l.map(i=>{var s;const o={key:i.name,class:`icon-button ${(s=i.getClasses)==null?void 0:s.call(i,n)}`,title:i.name};return"url"in i?g("a",{href:i.url,...o,children:i.icon}):g("button",{onClick:i.onClick,...o,children:i.icon})})})]})]})}function vl(t){const e=t.reduce((r,n)=>[...r,...n.tags],[]);return[...new Set(e)]}function gl(){const[t,e]=se(""),{data:r=[]}=mr();if(!ar)return g(ll,{});if(r===void 0)return g(Wi,{children:"Loading..."});const n=new RegExp(t,"i"),i=r.filter(s=>s.slug.match(n)),o=vl(r);return g(Y,{children:[g("div",{children:[g(yl,{search:t,setSearch:e}),g("ul",{class:"tags",children:o.map(s=>g("li",{children:["#",s]}))}),g("div",{class:"content",children:g(al,{goals:i})})]}),g(ul,{})]})}const bl=rl([{path:"/",element:g(gl,{})}]);function Rl(){return g(ds,{client:we,children:g(Ja,{router:bl})})}xe(g(Rl,{}),document.getElementById("app"));
