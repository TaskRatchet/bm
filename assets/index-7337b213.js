(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ie,y,xt,ee,Ye,Mt,fe={},qt=[],Ln=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(t,e){for(var n in e)t[n]=e[n];return t}function Qt(t){var e=t.parentNode;e&&e.removeChild(t)}function M(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ie.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return te(t,o,r,i,null)}function te(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++xt};return i==null&&y.vnode!=null&&y.vnode(s),s}function At(){return{current:null}}function A(t){return t.children}function Q(t,e){this.props=t,this.context=e}function re(t,e){if(e==null)return t.__?re(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?re(t):null}function Tt(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Tt(t)}}function Pe(t){(!t.__d&&(t.__d=!0)&&ee.push(t)&&!de.__r++||Ye!==y.debounceRendering)&&((Ye=y.debounceRendering)||setTimeout)(de)}function de(){for(var t;de.__r=ee.length;)t=ee.sort(function(e,n){return e.__v.__b-n.__v.__b}),ee=[],t.some(function(e){var n,r,i,s,o,a;e.__d&&(o=(s=(n=e).__v).__e,(a=n.__P)&&(r=[],(i=I({},s)).__v=s.__v+1,Te(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??re(s),s.__h),Lt(r,s),s.__e!=o&&Tt(s)))})}function It(t,e,n,r,i,s,o,a,l,f){var u,_,d,h,p,S,v,g=r&&r.__k||qt,w=g.length;for(n.__k=[],u=0;u<e.length;u++)if((h=n.__k[u]=(h=e[u])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?te(null,h,null,null,h):Array.isArray(h)?te(A,{children:h},null,null,null):h.__b>0?te(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=n,h.__b=n.__b+1,(d=g[u])===null||d&&h.key==d.key&&h.type===d.type)g[u]=void 0;else for(_=0;_<w;_++){if((d=g[_])&&h.key==d.key&&h.type===d.type){g[_]=void 0;break}d=null}Te(t,h,d=d||fe,i,s,o,a,l,f),p=h.__e,(_=h.ref)&&d.ref!=_&&(v||(v=[]),d.ref&&v.push(d.ref,null,h),v.push(_,h.__c||p,h)),p!=null?(S==null&&(S=p),typeof h.type=="function"&&h.__k===d.__k?h.__d=l=$t(h,l,t):l=Ut(t,h,d,g,p,l),typeof n.type=="function"&&(n.__d=l)):l&&d.__e==l&&l.parentNode!=t&&(l=re(d))}for(n.__e=S,u=w;u--;)g[u]!=null&&Ht(g[u],g[u]);if(v)for(u=0;u<v.length;u++)Nt(v[u],v[++u],v[++u])}function $t(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?$t(r,e,n):Ut(n,r,r,i,r.__e,e));return e}function $(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){$(n,e)}):e.push(t)),e}function Ut(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Nn(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||_e(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||_e(t,s,e[s],n[s],r)}function ze(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Ln.test(e)?n:n+"px"}function _e(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ze(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ze(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Ze:Je,s):t.removeEventListener(e,s?Ze:Je,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Je(t){this.l[t.type+!1](y.event?y.event(t):t)}function Ze(t){this.l[t.type+!0](y.event?y.event(t):t)}function Te(t,e,n,r,i,s,o,a,l){var f,u,_,d,h,p,S,v,g,w,b,R,D,C,P,m=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(f=y.__b)&&f(e);try{e:if(typeof m=="function"){if(v=e.props,g=(f=m.contextType)&&r[f.__c],w=f?g?g.props.value:f.__:r,n.__c?S=(u=e.__c=n.__c).__=u.__E:("prototype"in m&&m.prototype.render?e.__c=u=new m(v,w):(e.__c=u=new Q(v,w),u.constructor=m,u.render=jn),g&&g.sub(u),u.props=v,u.state||(u.state={}),u.context=w,u.__n=r,_=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),m.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=I({},u.__s)),I(u.__s,m.getDerivedStateFromProps(v,u.__s))),d=u.props,h=u.state,_)m.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(m.getDerivedStateFromProps==null&&v!==d&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,w),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,w)===!1||e.__v===n.__v){for(u.props=v,u.state=u.__s,e.__v!==n.__v&&(u.__d=!1),u.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(k){k&&(k.__=e)}),b=0;b<u._sb.length;b++)u.__h.push(u._sb[b]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,w),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(d,h,p)})}if(u.context=w,u.props=v,u.__v=e,u.__P=t,R=y.__r,D=0,"prototype"in m&&m.prototype.render){for(u.state=u.__s,u.__d=!1,R&&R(e),f=u.render(u.props,u.state,u.context),C=0;C<u._sb.length;C++)u.__h.push(u._sb[C]);u._sb=[]}else do u.__d=!1,R&&R(e),f=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++D<25);u.state=u.__s,u.getChildContext!=null&&(r=I(I({},r),u.getChildContext())),_||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(d,h)),P=f!=null&&f.type===A&&f.key==null?f.props.children:f,It(t,Array.isArray(P)?P:[P],e,n,r,i,s,o,a,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),S&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Hn(n.__e,e,n,r,i,s,o,l);(f=y.diffed)&&f(e)}catch(k){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),y.__e(k,e,n)}}function Lt(t,e){y.__c&&y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){y.__e(r,n.__v)}})}function Hn(t,e,n,r,i,s,o,a){var l,f,u,_=n.props,d=e.props,h=e.type,p=0;if(h==="svg"&&(i=!0),s!=null){for(;p<s.length;p++)if((l=s[p])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,s[p]=null;break}}if(t==null){if(h===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),s=null,a=!1}if(h===null)_===d||a&&t.data===d||(t.data=d);else{if(s=s&&ie.call(t.childNodes),f=(_=n.props||fe).dangerouslySetInnerHTML,u=d.dangerouslySetInnerHTML,!a){if(s!=null)for(_={},p=0;p<t.attributes.length;p++)_[t.attributes[p].name]=t.attributes[p].value;(u||f)&&(u&&(f&&u.__html==f.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Nn(t,d,_,i,a),u)e.__k=[];else if(p=e.props.children,It(t,Array.isArray(p)?p:[p],e,n,r,i&&h!=="foreignObject",s,o,s?s[0]:n.__k&&re(n,0),a),s!=null)for(p=s.length;p--;)s[p]!=null&&Qt(s[p]);a||("value"in d&&(p=d.value)!==void 0&&(p!==t.value||h==="progress"&&!p||h==="option"&&p!==_.value)&&_e(t,"value",p,_.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==t.checked&&_e(t,"checked",p,_.checked,!1))}return t}function Nt(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){y.__e(r,n)}}function Ht(t,e,n){var r,i;if(y.unmount&&y.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Nt(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){y.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Ht(r[i],e,n||typeof t.type!="function");n||t.__e==null||Qt(t.__e),t.__=t.__e=t.__d=void 0}function jn(t,e,n){return this.constructor(t,n)}function B(t,e,n){var r,i,s;y.__&&y.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],Te(e,t=(!r&&n||e).__k=M(A,null,[t]),i||fe,fe,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ie.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),Lt(s,t)}function jt(t,e){B(t,e,jt)}function Kn(t,e,n){var r,i,s,o=I({},t.props);for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?ie.call(arguments,2):n),te(t.type,o,r||t.key,i||t.ref,null)}function z(t,e){var n={__c:e="__cC"+Mt++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(Pe)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ie=qt.slice,y={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},xt=0,Q.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof t=="function"&&(t=t(I({},n),this.props)),t&&I(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Pe(this))},Q.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Pe(this))},Q.prototype.render=A,ee=[],de.__r=0,Mt=0;class J{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const se=typeof window>"u"||"Deno"in window;function x(){}function Bn(t,e){return typeof t=="function"?t(e):t}function ke(t){return typeof t=="number"&&t>=0&&t!==1/0}function Kt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function X(t,e,n){return oe(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Vn(t,e,n){return oe(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function T(t,e,n){return oe(t)?[{...e,queryKey:t},n]:[t||{},e]}function Xe(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(oe(o)){if(r){if(e.queryHash!==Ie(o,e.options))return!1}else if(!pe(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function et(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(oe(s)){if(!e.options.mutationKey)return!1;if(n){if(L(e.options.mutationKey)!==L(s))return!1}else if(!pe(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Ie(t,e){return((e==null?void 0:e.queryKeyHashFn)||L)(t)}function L(t){return JSON.stringify(t,(e,n)=>De(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function pe(t,e){return Bt(t,e)}function Bt(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Bt(t[n],e[n])):!1}function Vt(t,e){if(t===e)return t;const n=tt(t)&&tt(e);if(n||De(t)&&De(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const f=n?l:i[l];o[f]=Vt(t[f],e[f]),o[f]===t[f]&&a++}return r===s&&a===r?t:o}return e}function Fe(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function tt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function De(t){if(!nt(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!nt(n)||!n.hasOwnProperty("isPrototypeOf"))}function nt(t){return Object.prototype.toString.call(t)==="[object Object]"}function oe(t){return Array.isArray(t)}function Wt(t){return new Promise(e=>{setTimeout(e,t)})}function rt(t){Wt(0).then(t)}function Wn(){if(typeof AbortController=="function")return new AbortController}function xe(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Vt(t,e):e}class Gn extends J{constructor(){super(),this.setup=e=>{if(!se&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ye=new Gn;class Yn extends J{constructor(){super(),this.setup=e=>{if(!se&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ve=new Yn;function zn(t){return Math.min(1e3*2**t,3e4)}function ge(t){return(t??"online")==="online"?ve.isOnline():!0}class Gt{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function le(t){return t instanceof Gt}function Yt(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((v,g)=>{s=v,o=g}),l=v=>{r||(h(new Gt(v)),t.abort==null||t.abort())},f=()=>{e=!0},u=()=>{e=!1},_=()=>!ye.isFocused()||t.networkMode!=="always"&&!ve.isOnline(),d=v=>{r||(r=!0,t.onSuccess==null||t.onSuccess(v),i==null||i(),s(v))},h=v=>{r||(r=!0,t.onError==null||t.onError(v),i==null||i(),o(v))},p=()=>new Promise(v=>{i=g=>{if(r||!_())return v(g)},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),S=()=>{if(r)return;let v;try{v=t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var w,b;if(r)return;const R=(w=t.retry)!=null?w:3,D=(b=t.retryDelay)!=null?b:zn,C=typeof D=="function"?D(n,g):D,P=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,g);if(e||!P){h(g);return}n++,t.onFail==null||t.onFail(n,g),Wt(C).then(()=>{if(_())return p()}).then(()=>{e?h(g):S()})})};return ge(t.networkMode)?S():p().then(S),{promise:a,cancel:l,continue:()=>{i==null||i()},cancelRetry:f,continueRetry:u}}const $e=console;function Jn(){let t=[],e=0,n=u=>{u()},r=u=>{u()};const i=u=>{let _;e++;try{_=u()}finally{e--,e||a()}return _},s=u=>{e?t.push(u):rt(()=>{n(u)})},o=u=>(..._)=>{s(()=>{u(..._)})},a=()=>{const u=t;t=[],u.length&&rt(()=>{r(()=>{u.forEach(_=>{n(_)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u}}}const E=Jn();class zt{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ke(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(se?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Zn extends zt{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||$e,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Xn(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=xe(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(x).catch(x):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Kt(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const o=Wn(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};if(l(u),(r=this.options.behavior)==null||r.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=u.fetchOptions)==null?void 0:i.meta)){var _;this.dispatch({type:"fetch",meta:(_=u.fetchOptions)==null?void 0:_.meta})}const d=h=>{if(le(h)&&h.silent||this.dispatch({type:"error",error:h}),!le(h)){var p,S;(p=(S=this.cache.config).onError)==null||p.call(S,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Yt({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var p,S;if(typeof h>"u"){d(new Error("undefined"));return}this.setData(h),(p=(S=this.cache.config).onSuccess)==null||p.call(S,h,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(h,p)=>{this.dispatch({type:"failed",failureCount:h,error:p})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:ge(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return le(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),E.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Xn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class er extends J{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:Ie(s,n);let a=this.get(o);return a||(a=new Zn({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){E.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=T(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Xe(r,i))}findAll(e,n){const[r]=T(e,n);return Object.keys(r).length>0?this.queries.filter(i=>Xe(r,i)):this.queries}notify(e){E.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){E.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){E.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class tr extends zt{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||$e,this.observers=[],this.state=e.state||Jt(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var b;return this.retryer=Yt({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(R,D)=>{this.dispatch({type:"failed",failureCount:R,error:D})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(b=this.options.retry)!=null?b:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l;if(!n){var f,u,_,d;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(u=this.mutationCache.config).onMutate)==null?void 0:f.call(u,this.state.variables,this));const R=await((_=(d=this.options).onMutate)==null?void 0:_.call(d,this.state.variables));R!==this.state.context&&this.dispatch({type:"loading",context:R,variables:this.state.variables})}const b=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,b,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,b,this.state.variables,this.state.context)),await((a=(l=this.options).onSettled)==null?void 0:a.call(l,b,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:b}),b}catch(b){try{var h,p,S,v,g,w;throw await((h=(p=this.mutationCache.config).onError)==null?void 0:h.call(p,b,this.state.variables,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,b,this.state.variables,this.state.context)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,void 0,b,this.state.variables,this.state.context)),b}finally{this.dispatch({type:"error",error:b})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ge(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),E.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Jt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class nr extends J{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new tr({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){E.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>et(e,n))}findAll(e){return this.mutations.filter(n=>et(e,n))}notify(e){E.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.mutations.filter(n=>n.state.isPaused);return E.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(x)),Promise.resolve()))}}function rr(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,f=l==null?void 0:l.pageParam,u=(l==null?void 0:l.direction)==="forward",_=(l==null?void 0:l.direction)==="backward",d=((s=t.state.data)==null?void 0:s.pages)||[],h=((o=t.state.data)==null?void 0:o.pageParams)||[];let p=h,S=!1;const v=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var P;if((P=t.signal)!=null&&P.aborted)S=!0;else{var m;(m=t.signal)==null||m.addEventListener("abort",()=>{S=!0})}return t.signal}})},g=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),w=(C,P,m,k)=>(p=k?[P,...p]:[...p,P],k?[m,...C]:[...C,m]),b=(C,P,m,k)=>{if(S)return Promise.reject("Cancelled");if(typeof m>"u"&&!P&&C.length)return Promise.resolve(C);const Z={queryKey:t.queryKey,pageParam:m,meta:t.options.meta};v(Z);const Ce=g(Z);return Promise.resolve(Ce).then(Un=>w(C,m,Un,k))};let R;if(!d.length)R=b([]);else if(u){const C=typeof f<"u",P=C?f:st(t.options,d);R=b(d,C,P)}else if(_){const C=typeof f<"u",P=C?f:sr(t.options,d);R=b(d,C,P,!0)}else{p=[];const C=typeof t.options.getNextPageParam>"u";R=(a&&d[0]?a(d[0],0,d):!0)?b([],C,h[0]):Promise.resolve(w([],h[0],d[0]));for(let m=1;m<d.length;m++)R=R.then(k=>{if(a&&d[m]?a(d[m],m,d):!0){const Ce=C?h[m]:st(t.options,k);return b(k,C,Ce)}return Promise.resolve(w(k,h[m],d[m]))})}return R.then(C=>({pages:C,pageParams:p}))}}}}function st(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function sr(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class ir{constructor(e={}){this.queryCache=e.queryCache||new er,this.mutationCache=e.mutationCache||new nr,this.logger=e.logger||$e,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ye.subscribe(()=>{ye.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ve.subscribe(()=>{ve.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=T(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=X(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=Bn(n,s);if(typeof o>"u")return;const a=X(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return E.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=T(e,n),i=this.queryCache;E.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=T(e,n,r),o=this.queryCache,a={type:"active",...i};return E.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=T(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=E.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(x).catch(x)}invalidateQueries(e,n,r){const[i,s]=T(e,n,r);return E.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(f=>{f.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=T(e,n,r),o=E.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var f;return l.fetch(void 0,{...s,cancelRefetch:(f=s==null?void 0:s.cancelRefetch)!=null?f:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(x);return s!=null&&s.throwOnError||(a=a.catch(x)),a}fetchQuery(e,n,r){const i=X(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(x).catch(x)}fetchInfiniteQuery(e,n,r){const i=X(e,n,r);return i.behavior=rr(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(x).catch(x)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>L(e)===L(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>pe(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>L(e)===L(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>pe(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Ie(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class or extends J{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),it(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Me(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Me(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Fe(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&ot(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(x)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),se||this.currentResult.isStale||!ke(this.options.staleTime))return;const n=Kt(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(se||this.options.enabled===!1||!ke(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ye.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,f=l?e.state:this.currentQueryInitialState,u=l?this.currentResult:this.previousQueryResult,{state:_}=e;let{dataUpdatedAt:d,error:h,errorUpdatedAt:p,fetchStatus:S,status:v}=_,g=!1,w=!1,b;if(n._optimisticResults){const m=this.hasListeners(),k=!m&&it(e,n),Z=m&&ot(e,r,n,i);(k||Z)&&(S=ge(e.options.networkMode)?"fetching":"paused",d||(v="loading")),n._optimisticResults==="isRestoring"&&(S="idle")}if(n.keepPreviousData&&!_.dataUpdatedAt&&u!=null&&u.isSuccess&&v!=="error")b=u.data,d=u.dataUpdatedAt,v=u.status,g=!0;else if(n.select&&typeof _.data<"u")if(s&&_.data===(o==null?void 0:o.data)&&n.select===this.selectFn)b=this.selectResult;else try{this.selectFn=n.select,b=n.select(_.data),b=xe(s==null?void 0:s.data,b,n),this.selectResult=b,this.selectError=null}catch(m){this.selectError=m}else b=_.data;if(typeof n.placeholderData<"u"&&typeof b>"u"&&v==="loading"){let m;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))m=s.data;else if(m=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof m<"u")try{m=n.select(m),this.selectError=null}catch(k){this.selectError=k}typeof m<"u"&&(v="success",b=xe(s==null?void 0:s.data,m,n),w=!0)}this.selectError&&(h=this.selectError,b=this.selectResult,p=Date.now(),v="error");const R=S==="fetching",D=v==="loading",C=v==="error";return{status:v,fetchStatus:S,isLoading:D,isSuccess:v==="success",isError:C,isInitialLoading:D&&R,data:b,dataUpdatedAt:d,error:h,errorUpdatedAt:p,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>f.dataUpdateCount||_.errorUpdateCount>f.errorUpdateCount,isFetching:R,isRefetching:R&&!D,isLoadingError:C&&_.dataUpdatedAt===0,isPaused:S==="paused",isPlaceholderData:w,isPreviousData:g,isRefetchError:C&&_.dataUpdatedAt!==0,isStale:Ue(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Fe(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const f=l;return this.currentResult[f]!==n[f]&&a.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!le(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){E.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,f;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(f=this.options).onSettled)==null||l.call(f,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(u=>{u(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ur(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function it(t,e){return ur(t,e)||t.state.dataUpdatedAt>0&&Me(t,e,e.refetchOnMount)}function Me(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Ue(t,e)}return!1}function ot(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Ue(t,n)}function Ue(t,e){return t.isStaleByTime(e.staleTime)}let ar=class extends J{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.client.defaultMutationOptions(e),Fe(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Jt(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){E.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,f;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(f=this.mutateOptions).onSettled)==null||l.call(f,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(u=>{u(this.currentResult)})})}};function lr(t){return{mutationKey:t.options.mutationKey,state:t.state}}function cr(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function hr(t){return t.state.isPaused}function fr(t){return t.state.status==="success"}function dr(t,e={}){const n=[],r=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||hr;t.getMutationCache().getAll().forEach(s=>{i(s)&&n.push(lr(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||fr;t.getQueryCache().getAll().forEach(s=>{i(s)&&r.push(cr(s))})}return{mutations:n,queries:r}}function _r(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),i=t.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var l;r.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(a=>{var l;const f=i.get(a.queryHash);if(f){f.state.dataUpdatedAt<a.state.dataUpdatedAt&&f.setState(a.state);return}i.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.queries,queryKey:a.queryKey,queryHash:a.queryHash},a.state)})}var U,O,Se,ut,V=0,Zt=[],ce=[],at=y.__b,lt=y.__r,ct=y.diffed,ht=y.__c,ft=y.unmount;function H(t,e){y.__h&&y.__h(O,t,V||e),V=0;var n=O.__H||(O.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:ce}),n.__[t]}function F(t){return V=1,Le(rn,t)}function Le(t,e,n){var r=H(U++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):rn(void 0,e),function(s){var o=r.__N?r.__N[0]:r.__[0],a=r.t(o,s);o!==a&&(r.__N=[a,r.__[1]],r.__c.setState({}))}],r.__c=O,!O.u)){O.u=!0;var i=O.shouldComponentUpdate;O.shouldComponentUpdate=function(s,o,a){if(!r.__c.__H)return!0;var l=r.__c.__H.__.filter(function(u){return u.__c});if(l.every(function(u){return!u.__N}))return!i||i.call(this,s,o,a);var f=!1;return l.forEach(function(u){if(u.__N){var _=u.__[0];u.__=u.__N,u.__N=void 0,_!==u.__[0]&&(f=!0)}}),!(!f&&r.__c.props===s)&&(!i||i.call(this,s,o,a))}}return r.__N||r.__}function q(t,e){var n=H(U++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,O.__H.__h.push(n))}function ue(t,e){var n=H(U++,4);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,O.__h.push(n))}function Xt(t){return V=5,N(function(){return{current:t}},[])}function en(t,e,n){V=6,ue(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function N(t,e){var n=H(U++,7);return Ne(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function W(t,e){return V=8,N(function(){return t},e)}function G(t){var e=O.context[t.__c],n=H(U++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(O)),e.props.value):t.__}function tn(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)}function pr(t){var e=H(U++,10),n=F();return e.__=t,O.componentDidCatch||(O.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function nn(){var t=H(U++,11);if(!t.__){for(var e=O.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function yr(){for(var t;t=Zt.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(he),t.__H.__h.forEach(qe),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){O=null,at&&at(t)},y.__r=function(t){lt&&lt(t),U=0;var e=(O=t.__c).__H;e&&(Se===O?(e.__h=[],O.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ce,n.__N=n.i=void 0})):(e.__h.forEach(he),e.__h.forEach(qe),e.__h=[])),Se=O},y.diffed=function(t){ct&&ct(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Zt.push(e)!==1&&ut===y.requestAnimationFrame||((ut=y.requestAnimationFrame)||vr)(yr)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ce&&(n.__=n.__V),n.i=void 0,n.__V=ce})),Se=O=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(he),n.__h=n.__h.filter(function(r){return!r.__||qe(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],y.__e(r,n.__v)}}),ht&&ht(t,e)},y.unmount=function(t){ft&&ft(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{he(r)}catch(i){e=i}}),n.__H=void 0,e&&y.__e(e,n.__v))};var dt=typeof requestAnimationFrame=="function";function vr(t){var e,n=function(){clearTimeout(r),dt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);dt&&(e=requestAnimationFrame(n))}function he(t){var e=O,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),O=e}function qe(t){var e=O;t.__c=t.__(),O=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function rn(t,e){return typeof e=="function"?e(t):e}function sn(t,e){for(var n in e)t[n]=e[n];return t}function Qe(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Re(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function me(t){this.props=t}function on(t,e){function n(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:Qe(this.props,i)}function r(i){return this.shouldComponentUpdate=n,M(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(me.prototype=new Q).isPureReactComponent=!0,me.prototype.shouldComponentUpdate=function(t,e){return Qe(this.props,t)||Qe(this.state,e)};var _t=y.__b;y.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),_t&&_t(t)};var mr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function un(t){function e(n){var r=sn({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=mr,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var pt=function(t,e){return t==null?null:$($(t).map(e))},an={map:pt,forEach:pt,count:function(t){return t?$(t).length:0},only:function(t){var e=$(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:$},br=y.__e;y.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}br(t,e,n,r)};var yt=y.unmount;function ln(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=sn({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return ln(r,e,n)})),t}function cn(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return cn(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function ne(){this.__u=0,this.t=null,this.__b=null}function hn(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function fn(t){var e,n,r;function i(s){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return M(n,s)}return i.displayName="Lazy",i.__f=!0,i}function j(){this.u=null,this.o=null}y.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),yt&&yt(t)},(ne.prototype=new Q).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=hn(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var f=r.state.__a;r.__v.__k[0]=cn(f,f.__c.__P,f.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},ne.prototype.componentWillUnmount=function(){this.t=[]},ne.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ln(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&M(A,null,t.fallback);return i&&(i.__h=null),[M(A,null,e.__a?null:t.children),i]};var vt=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function gr(t){return this.getChildContext=function(){return t.context},t.children}function Cr(t){var e=this,n=t.i;e.componentWillUnmount=function(){B(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),B(M(gr,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function dn(t,e){var n=M(Cr,{__v:t,i:e});return n.containerInfo=e,n}(j.prototype=new Q).__a=function(t){var e=this,n=hn(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),vt(e,t,r)):i()};n?n(s):s()}},j.prototype.render=function(t){this.u=null,this.o=new Map;var e=$(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},j.prototype.componentDidUpdate=j.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){vt(t,n,e)})};var _n=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Sr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Rr=typeof document<"u",Or=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};function pn(t,e,n){return e.__k==null&&(e.textContent=""),B(t,e),typeof n=="function"&&n(),t?t.__c:null}function yn(t,e,n){return jt(t,e),typeof n=="function"&&n(),t?t.__c:null}Q.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Q.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var mt=y.event;function wr(){}function Er(){return this.cancelBubble}function Pr(){return this.defaultPrevented}y.event=function(t){return mt&&(t=mt(t)),t.persist=wr,t.isPropagationStopped=Er,t.isDefaultPrevented=Pr,t.nativeEvent=t};var vn,bt={configurable:!0,get:function(){return this.class}},gt=y.vnode;y.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];Rr&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Or(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&Sr.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=$(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=$(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(bt.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",bt))}t.$$typeof=_n,gt&&gt(t)};var Ct=y.__r;y.__r=function(t){Ct&&Ct(t),vn=t.__c};var mn={ReactCurrentDispatcher:{current:{readContext:function(t){return vn.__n[t.__c].props.value}}}},kr="17.0.2";function bn(t){return M.bind(null,t)}function He(t){return!!t&&t.$$typeof===_n}function gn(t){return He(t)?Kn.apply(null,arguments):t}function Cn(t){return!!t.__k&&(B(null,t),!0)}function Sn(t){return t&&(t.base||t.nodeType===1&&t)||null}var Rn=function(t,e){return t(e)},On=function(t,e){return t(e)},wn=A;function je(t){t()}function En(t){return t}function Pn(){return[!1,je]}var kn=ue;function Fn(t,e){var n=e(),r=F({h:{__:n,v:e}}),i=r[0].h,s=r[1];return ue(function(){i.__=n,i.v=e,Re(i.__,e())||s({h:i})},[t,n,e]),q(function(){return Re(i.__,i.v())||s({h:i}),t(function(){Re(i.__,i.v())||s({h:i})})},[t]),n}var Fr={useState:F,useId:nn,useReducer:Le,useEffect:q,useLayoutEffect:ue,useInsertionEffect:kn,useTransition:Pn,useDeferredValue:En,useSyncExternalStore:Fn,startTransition:je,useRef:Xt,useImperativeHandle:en,useMemo:N,useCallback:W,useContext:G,useDebugValue:tn,version:"17.0.2",Children:an,render:pn,hydrate:yn,unmountComponentAtNode:Cn,createPortal:dn,createElement:M,createContext:z,createFactory:bn,cloneElement:gn,createRef:At,Fragment:A,isValidElement:He,findDOMNode:Sn,Component:Q,PureComponent:me,memo:on,forwardRef:un,flushSync:On,unstable_batchedUpdates:Rn,StrictMode:wn,Suspense:ne,SuspenseList:j,lazy:fn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mn};const Dr=Object.freeze(Object.defineProperty({__proto__:null,Children:an,Component:Q,Fragment:A,PureComponent:me,StrictMode:wn,Suspense:ne,SuspenseList:j,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mn,cloneElement:gn,createContext:z,createElement:M,createFactory:bn,createPortal:dn,createRef:At,default:Fr,findDOMNode:Sn,flushSync:On,forwardRef:un,hydrate:yn,isValidElement:He,lazy:fn,memo:on,render:pn,startTransition:je,unmountComponentAtNode:Cn,unstable_batchedUpdates:Rn,useCallback:W,useContext:G,useDebugValue:tn,useDeferredValue:En,useEffect:q,useErrorBoundary:pr,useId:nn,useImperativeHandle:en,useInsertionEffect:kn,useLayoutEffect:ue,useMemo:N,useReducer:Le,useRef:Xt,useState:F,useSyncExternalStore:Fn,useTransition:Pn,version:kr},Symbol.toStringTag,{value:"Module"}));function xr(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ae={},Mr={get exports(){return Ae},set exports(t){Ae=t}},Dn={};const qr=xr(Dr);/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y=qr;function Qr(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ar=typeof Object.is=="function"?Object.is:Qr,Tr=Y.useState,Ir=Y.useEffect,$r=Y.useLayoutEffect,Ur=Y.useDebugValue;function Lr(t,e){var n=e(),r=Tr({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return $r(function(){i.value=n,i.getSnapshot=e,Oe(i)&&s({inst:i})},[t,n,e]),Ir(function(){return Oe(i)&&s({inst:i}),t(function(){Oe(i)&&s({inst:i})})},[t]),Ur(n),n}function Oe(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ar(t,n)}catch{return!0}}function Nr(t,e){return e()}var Hr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nr:Lr;Dn.useSyncExternalStore=Y.useSyncExternalStore!==void 0?Y.useSyncExternalStore:Hr;(function(t){t.exports=Dn})(Mr);const Ke=Ae.useSyncExternalStore,St=z(void 0),xn=z(!1);function Mn(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=St),window.ReactQueryClientContext):St)}const Be=({context:t}={})=>{const e=G(Mn(t,G(xn)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jr=({client:t,children:e,context:n,contextSharing:r=!1})=>{q(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=Mn(n,r);return M(xn.Provider,{value:!n&&r},M(i.Provider,{value:t},e))},qn=z(!1),Kr=()=>G(qn);qn.Provider;function Br(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const Vr=z(Br()),Wr=()=>G(Vr);function Qn(t,e){return typeof t=="function"?t(...e):!!t}const Gr=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Yr=t=>{q(()=>{t.clearReset()},[t])},zr=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Qn(n,[t.error,r]),Jr=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Zr=(t,e)=>t.isLoading&&t.isFetching&&!e,Xr=(t,e,n)=>(t==null?void 0:t.suspense)&&Zr(e,n),es=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function ts(t,e){const n=Be({context:t.context}),r=Kr(),i=Wr(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=E.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=E.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=E.batchCalls(s.onSettled)),Jr(s),Gr(s,i),Yr(i);const[o]=F(()=>new e(n,s)),a=o.getOptimisticResult(s);if(Ke(W(l=>r?()=>{}:o.subscribe(E.batchCalls(l)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),q(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Xr(s,a,r))throw es(s,o,i);if(zr({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function ns(t,e,n){const r=X(t,e,n);return ts(r,or)}function rs(t,e,n){const[r,i={}]=T(t,e,n),s=Be({context:i.context}),o=s.getQueryCache();return Ke(W(a=>o.subscribe(E.batchCalls(a)),[o]),()=>s.isFetching(r),()=>s.isFetching(r))}function Rt(t,e,n){const r=Vn(t,e,n),i=Be({context:r.context}),[s]=F(()=>new ar(i,r));q(()=>{s.setOptions(r)},[s,r]);const o=Ke(W(l=>s.subscribe(E.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=W((l,f)=>{s.mutate(l,f).catch(ss)},[s]);if(o.error&&Qn(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function ss(){}function ae(t){return t.goal_type==="drinker"}function is(t){return t.sort((e,n)=>e.losedate<n.losedate?-1:1),{limits:t.filter(ae).sort((e,n)=>e.slug<n.slug?-1:1),today:t.filter(e=>!ae(e)&&e.safebuf===0),next:t.filter(e=>!ae(e)&&e.safebuf!==0&&!e.todayta),later:t.filter(e=>!ae(e)&&e.safebuf!==0&&e.todayta)}}const os=localStorage.getItem("username")||"",Ve=localStorage.getItem("api_key")||"";function us(t,e){localStorage.setItem("username",t),localStorage.setItem("api_key",e),window.location.href="/"}function An(){localStorage.removeItem("username"),localStorage.removeItem("api_key"),window.location.href="/"}const as="https://www.beeminder.com/api/v1";async function ls(){return We({route:"/users/me/goals.json"})}async function cs(t){return We({route:`/users/me/goals/${t}/refresh_graph.json`})}async function hs(t,e){return We({route:`/users/me/goals/${t}/datapoints.json`,method:"post",data:{value:e,comment:"via bm.taskratchet.com"}})}async function We({route:t,method:e="get",data:n}){const r=await fetch(`${as}${t}?auth_token=${Ve}`,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`${r.status} ${r.statusText}`);return r.json()}function fs({storage:t,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:r=JSON.stringify,deserialize:i=JSON.parse,retry:s}){if(typeof t<"u"){const o=a=>{try{t.setItem(e,r(a));return}catch(l){return l}};return{persistClient:ds(a=>{let l=a,f=o(l),u=0;for(;f&&l;)u++,l=s==null?void 0:s({persistedClient:l,error:f,errorCount:u}),l&&(f=o(l))},n),restoreClient:()=>{const a=t.getItem(e);if(a)return i(a)},removeClient:()=>{t.removeItem(e)}}}return{persistClient:Ot,restoreClient:()=>{},removeClient:Ot}}function ds(t,e=100){let n=null,r;return function(...i){r=i,n===null&&(n=setTimeout(()=>{t(...r),n=null},e))}}function Ot(){}async function _s({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:i}){try{const s=await e.restoreClient();if(s)if(s.timestamp){const o=Date.now()-s.timestamp>n,a=s.buster!==r;o||a?e.removeClient():_r(t,s.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function wt({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const i={buster:n,timestamp:Date.now(),clientState:dr(t,r)};await e.persistClient(i)}function ps(t){const e=t.queryClient.getQueryCache().subscribe(()=>{wt(t)}),n=t.queryClient.getMutationCache().subscribe(()=>{wt(t)});return()=>{e(),n()}}function ys(t){let e=!1,n;const r=()=>{e=!0,n==null||n()},i=_s(t).then(()=>{e||(n=ps(t))});return[r,i]}const K=new ir({defaultOptions:{queries:{cacheTime:1e3*60*60*24}}}),vs=fs({storage:window.localStorage});ys({queryClient:K,persister:vs});function Tn(...t){return t.filter(Boolean).join(" ")}var ms=0;function c(t,e,n,r,i){var s,o,a={};for(o in e)o=="ref"?s=e[o]:a[o]=e[o];var l={type:t,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ms,__source:i,__self:r};if(typeof t=="function"&&(s=t.defaultProps))for(o in s)a[o]===void 0&&(a[o]=s[o]);return y.vnode&&y.vnode(l),l}async function Et(t,e){const n=K.getQueryData(["goals"]);if(!n)return;const r=n.findIndex(s=>s.slug===t);if(r===-1)return;n[r]={...n[r],queued:!0},K.setQueryData(["goals"],n);const i=await e();return await K.invalidateQueries(["goals"]),i}function bs(t){return typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}function In({g:t}){const e=Rt(l=>Et(t.slug,()=>hs(t.slug,l))),n=Rt(()=>Et(t.slug,()=>cs(t.slug))),r=e.isLoading||n.isLoading||t.queued,i=e.isError||n.isError,s=i?"⚠️":t.autodata?"🔃":"➕",o=i?bs(e.error||n.error):t.autodata?"Refresh":"Add datapoint",a=l=>{if(l.stopPropagation(),t.autodata)return n.mutate();const f=prompt(`Enter a number for goal "${t.slug}":`);f&&e.mutate(Number(f))};return c("button",{class:Tn("icon-button",r&&"spin"),onClick:a,title:o,children:s})}function gs({g:t,goPrev:e,goNext:n,close:r}){return c("div",{class:"detail",style:{"--border-color":`var(--${t.roadstatuscolor})`},children:[c("div",{class:`detail__limsumdate ${t.roadstatuscolor}`,children:[c("button",{onClick:()=>e==null?void 0:e(),className:`icon-button ${!e&&"detail__disabled"||""}`,children:"◀"}),c("span",{children:t.limsumdate}),c("button",{onClick:()=>n==null?void 0:n(),className:`icon-button ${!n&&"detail__disabled"||""}`,children:"▶"})]}),c("div",{class:"detail__header",children:[c("a",{href:`https://beeminder.com/${os}/${t.slug}`,class:"detail__headerText",children:[c("img",{src:t.thumb_url,width:200,height:132}),c("div",{children:[c("h1",{children:t.slug}),c("div",{class:"detail__title",children:t.title})]})]}),c("div",{class:"detail__buttons",children:[c(In,{g:t}),c("button",{onClick:()=>r(),className:"icon-button",children:"❌"})]})]}),c("div",{className:"detail_info",children:[c("table",{children:[c("thead",{children:c("tr",{children:[c("th",{children:"Date"}),c("th",{children:"Comment"}),c("th",{children:"Value"})]})}),c("tbody",{children:t.recent_data.map(i=>c("tr",{children:[c("td",{children:i.daystamp}),c("td",{children:i.comment}),c("td",{children:i.value})]},i.id))})]}),c("p",{children:[c("strong",{children:"Fineprint:"})," ",t.fineprint||"[empty]"]})]})]})}const be={s:1,m:60,h:60*60,d:60*60*24,w:60*60*24*7,y:60*60*24*365};function Pt(t){return Object.keys(be).findLast(e=>t>be[e])}function kt(t){const e=new Date;return(new Date(t.losedate*1e3).getTime()-e.getTime())/1e3}function Cs(t){var i,s;const e=t.baremin.includes("-")?"-":"",n=(i=t.baremin.match(/[1-9]?\d:\d\d/))==null?void 0:i[0],r=((s=t.baremin.match(/(\d+\.?\d?\d?)/))==null?void 0:s[1])||"";return`${e}${n||r} in`}function we({children:t}){return c("span",{class:"countdown",children:t})}function Ss({g:t}){const[e,n]=F(kt(t));if(q(()=>{const i=Pt(e),s=i?e%be[i]:1,o=setTimeout(()=>n(kt(t)),s*1e3);return()=>clearTimeout(o)},[t,e]),e<0)return c(we,{children:"💀"});const r=Pt(e);return r?c(we,{children:[Cs(t)," ",Math.floor(+e/be[r]),r]}):c(we,{children:"🤷‍♂️"})}function Ee({g:t,onClick:e}){const n=t.safebuf===0?"today":t.todayta?"later":"next";return c("div",{class:`goal ${n}`,onClick:()=>e(),style:{"--goal-color":`var(--${t.roadstatuscolor})`},children:[c("h3",{children:t.slug}),c("p",{class:"data",children:[c(Ss,{g:t}),c(In,{g:t})]})]})}function Rs({goals:t}){const[e,n]=F(),r=N(()=>is(t),[t]),i=Object.values(r).flat(),s=i.findIndex(d=>d.slug===e),o=i[s],a=i[s+1],l=i[s-1],f=N(()=>l?()=>n(l.slug):void 0,[l]),u=N(()=>a?()=>n(a.slug):void 0,[a]),_=()=>n(void 0);return q(()=>{const d=h=>{if(h.key==="ArrowLeft")return f==null?void 0:f();if(h.key==="ArrowRight")return u==null?void 0:u();if(h.key==="Escape")return _()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[u,f]),c("div",{class:"goals",children:[c("div",{class:"goals__grid goals__limits",children:r.limits.map(d=>c(Ee,{g:d,onClick:()=>n(d.slug)},d.slug))}),c("div",{class:"goals__grid",children:[o&&c(gs,{g:o,goPrev:f,goNext:u,close:_}),[...r.today,...r.next].map(d=>c(Ee,{g:d,onClick:()=>n(d.slug)},d.slug))]}),c("div",{class:"goals__grid",children:r.later.map(d=>c(Ee,{g:d,onClick:()=>n(d.slug)},d.slug))})]})}function Ge(){return ns(["goals"],()=>ls(),{enabled:!!Ve,refetchInterval:t=>t!=null&&t.find(e=>e.queued)?3e3:6e4,refetchIntervalInBackground:!1,retry:!1,onError:t=>{if(t.status===401)return An();console.error(t)}})}function $n({children:t}){return q(()=>(document.body.classList.add("center"),()=>document.body.classList.remove("center")),[]),c("div",{class:"center",children:c("div",{children:t})})}function Os(t){return typeof t=="object"&&t!==null&&"username"in t&&"auth_token"in t}function ws(){const[t,e]=F("");return c($n,{children:c("div",{class:"login",children:[c("p",{children:["Retrieve your API config"," ",c("a",{href:"https://www.beeminder.com/api/v1/auth_token.json",children:"here"}),"."]}),c("input",{placeholder:"Config",value:t,onChange:n=>e(n.currentTarget.value)}),c("button",{onClick:()=>{const n=JSON.parse(t);if(!Os(n))throw new Error("Invalid config");us(n.username,n.auth_token)},children:"Save"})]})})}function Es(){return c("small",{class:"footer",children:c("span",{children:["Made by"," ",c("a",{href:"https://nathanarthur.com/",target:"_blank",rel:"noreferrer",children:"Narthur"}),"."," ",c("a",{href:"https://github.com/TaskRatchet/bm",target:"_blank",rel:"noreferrer",children:"View source"}),". See also:"," ",c("a",{href:"https://taskratchet.com",target:"_blank",rel:"noreferrer",children:"TaskRatchet"})]})})}function Ps({goals:t}){const e=t.filter(s=>s.safebuf===0),n=t.filter(s=>s.safebuf===1),r=t.filter(s=>s.safebuf===2),i=t.filter(s=>s.safebuf>2);return c("div",{class:"colors",style:{"--redLen":`${e.length/t.length*100}%`,"--orangeLen":`${n.length/t.length*100}%`,"--blueLen":`${r.length/t.length*100}%`,"--greenLen":`${i.length/t.length*100}%`},children:[c("span",{class:"red"}),c("span",{class:"orange"}),c("span",{class:"blue"}),c("span",{class:"green"})]})}function Ft(){const t=new Date,e=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0");return`${e}:${n}`}function ks({p:t}){const e=`${t.position*100}%`,n=new Date(t.time*1e3).toLocaleTimeString(),r=t.goals.map(s=>s.slug),i=`${n}
${r.join(`
`)}`;return c("span",{style:{left:e},title:i,children:t.goals.length})}const Fs=1e3*60*60*24;function Ds(t,e){return{time:t,position:(t*1e3-new Date().getTime())/Fs,goals:e.filter(n=>n.losedate===t)}}function xs(t){return Object.values(t).sort((e,n)=>e.time-n.time)}function Dt(t){const e=t.filter(n=>n.safebuf===0).reduce((n,r)=>({...n,[r.losedate]:Ds(r.losedate,t)}),{});return xs(e)}function Ms({goals:t}){const[e,n]=F(Ft()),[r,i]=F(Dt(t));return q(()=>{const s=setInterval(()=>{n(Ft()),i(Dt(t))},6e4);return()=>clearInterval(s)},[t]),c("div",{class:"time",children:[c("span",{class:"bubble",children:e}),c("span",{class:"line",children:r.map(s=>c(ks,{p:s},s.time))})]})}const qs=[{name:"Add goal",icon:"➕",url:"https://beeminder.com/new"},{name:"Add breaks",icon:"🏖️",onClick:()=>{const t=window.prompt("Start date (YYYY-MM-DD)")||"",e=window.prompt("Finish date (YYYY-MM-DD)")||"",n=`https://beeminder.com/breaks?start=${t}&finish=${e}`;window.open(n)}},{name:"Account settings",icon:"⚙️",url:"https://beeminder.com/settings/account"},{name:"Blog",icon:"🗞️",url:"https://blog.beeminder.com/"},{name:"Docs",icon:"❓",url:"https://help.beeminder.com/"},{name:"Premium",icon:"💎",url:"https://www.beeminder.com/premium"},{name:"Logout",icon:"🚪",onClick:An},{name:"Refresh",icon:"🔃",onClick:()=>void K.refetchQueries(),getClasses:t=>t?"spin":""}];function Qs({search:t,setSearch:e}){const{data:n=[]}=Ge(),r=rs();return c("div",{class:"header",children:[c(Ps,{goals:n}),c(Ms,{goals:n}),c("div",{class:"global-controls",children:[c("span",{class:"filter",children:[c("input",{type:"text",placeholder:"filter",value:t,onChange:i=>e(i.currentTarget.value)}),c("button",{class:"icon-button",onClick:()=>e(""),children:"❌"})]}),c("span",{class:"buttons",children:qs.map(i=>{var o;const s={key:i.name,class:`icon-button ${((o=i.getClasses)==null?void 0:o.call(i,r))||""}`,title:i.name};return"url"in i?c("a",{href:i.url,...s,children:i.icon}):c("button",{onClick:i.onClick,...s,children:i.icon})})})]})]})}function As(t){const e=t.reduce((n,r)=>[...n,...r.tags],[]);return[...new Set(e)]}function Ts({onChange:t}){const{data:e=[]}=Ge(),[n,r]=F(""),i=As(e);return q(()=>t(n),[t,n]),c("ul",{class:"tags",children:i.map(s=>c("li",{class:Tn(s===n&&"tags__active"),children:c("button",{onClick:()=>r(s===n?"":s),children:["#",s]})},s))})}function Is(){const[t,e]=F(""),[n,r]=F(""),{data:i}=Ge();if(!Ve)return c(ws,{});if(i===void 0)return c($n,{children:"Loading..."});const s=new RegExp(t,"i"),o=i.filter(a=>!(n.length&&!a.tags.includes(n)||t&&!s.test(a.slug)));return c(A,{children:[c("div",{children:[c(Qs,{search:t,setSearch:e}),c(Ts,{onChange:a=>r(a)}),c("div",{class:"content",children:c(Rs,{goals:o})})]}),c(Es,{})]})}function $s(){return c(jr,{client:K,children:c(Is,{})})}B(c($s,{}),document.getElementById("app"));
